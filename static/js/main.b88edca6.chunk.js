(this["webpackJsonpMenu-Creator"]=this["webpackJsonpMenu-Creator"]||[]).push([[0],{101:function(e,t,n){e.exports=n(143)},106:function(e,t,n){},124:function(e,t,n){},139:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(17),l=n.n(o),i=(n(106),n(16)),c=n(10),d=n(11),s=n(14),p=n(13),u=n(91),m=n(153),h=n(154),g=n(100),f=n(5),b=n(6),v=n(148);function E(){var e=Object(f.a)(["\n  display: inline-block;\n  position: relative;\n"]);return E=function(){return e},e}var O=Object(b.a)(v.a)(E());function k(e){var t=e.importJson,n=r.a.useState(!1),a=Object(i.a)(n,2),o=a[0],l=a[1],c=r.a.useState(""),d=Object(i.a)(c,2),s=d[0],p=d[1],g=function(){return l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"primary",onClick:function(){return l(!0)}},"Import"),r.a.createElement(m.a,{show:o,onHide:g,backdrop:"static",keyboard:!1},r.a.createElement(m.a.Header,{closeButton:!0},r.a.createElement(m.a.Title,null,"Import Existing JSON")),r.a.createElement(m.a.Body,null,r.a.createElement(h.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(h.a.Label,null,"Paste JSON:"),r.a.createElement(h.a.Control,{as:"textarea",rows:"3",value:s,onChange:function(e){return p(e.target.value)}}))),r.a.createElement(m.a.Footer,null,r.a.createElement(u.a,{variant:"secondary",onClick:g},"Close"),r.a.createElement(u.a,{variant:"primary",onClick:function(e){t(s),g()}},"Import"))))}var x=function(e){var t=e.handleAdd,n=e.importJson;return r.a.createElement(r.a.Fragment,null,"Opt:"," ",r.a.createElement(u.a,{variant:"outline-primary",value:"checkbox",onClick:function(e){return t(e.target.value)}},"Checkbox")," ",r.a.createElement(u.a,{variant:"outline-primary",value:"dropdown",onClick:function(e){return t(e.target.value)}},"Dropdown")," ",r.a.createElement(u.a,{variant:"outline-primary",value:"colorpicker",onClick:function(e){return t(e.target.value)}},"Color Picker")," ",r.a.createElement(O,{title:"STL",onSelect:function(e){return t(e)},variant:"outline-primary"},r.a.createElement(g.a.Item,{eventKey:"stl"},"STL Setup"),r.a.createElement(g.a.Item,{eventKey:"section"},"Section"))," ",r.a.createElement(k,{importJson:n}))},y=n(94),C=n.n(y),j=(n(124),n(93)),S=n(149),w=n(155),U=n(150),N=function(e){var t=e.propValue,n=e.propName,a=e.label,o=e.type,l=e.placeholder,i=e.handleUpdate,c=e.toolTip;return r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(w.a,{placement:"top",delay:{show:250,hide:200},overlay:r.a.createElement(U.a,{id:"button-tooltip"},c)},r.a.createElement(S.a.Text,{id:n+"Label"},a))),r.a.createElement(h.a.Control,{value:t,name:n,type:o,placeholder:void 0===l?t:l,onChange:i}))},T=function(e){var t=e.propValue,n=e.propName,a=e.label,o=e.handleUpdate,l=e.toolTip;return r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(w.a,{placement:"top",delay:{show:250,hide:200},overlay:r.a.createElement(U.a,{id:"button-tooltip"},l)},r.a.createElement(S.a.Text,{id:n+"Label"},a))),r.a.createElement(S.a.Checkbox,{name:n,"aria-label":"option 1",checked:t,onChange:o}))},D=function(e){var t=e.option,n=e.handleUpdate;return r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(N,{propName:"name",propValue:t.name,label:"Name",placeholder:"Name",handleUpdate:n,type:"text",toolTip:"Name of the option"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(T,{propName:"priceDiff",propValue:t.priceDiff,label:"Price Difference",handleUpdate:n,toolTip:"Choose if changing the option affect price."})),"checkbox"===t.type&&r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(N,{propName:"price",propValue:t.price,label:"Addon cost:",handleUpdate:n,type:"Number",toolTip:"only set if using auto populate variant"}))))},I=n(151);function M(){var e=Object(f.a)(["\n    ","\n"]);return M=function(){return e},e}function P(){var e=Object(f.a)(["\n    position: absolute;\n    top: -1px;\n    right: -1px;\n    width: 16px;\n    height: 16px;\n    cursor: pointer;\n    user-drag: none;\n    user-select: none;\n    -moz-user-select: none;\n    -webkit-user-drag: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n"]);return P=function(){return e},e}function A(){var e=Object(f.a)(["\n    position: relative;\n    margin: 3px;\n    font-size: 13px;\n    border: 1px dashed #3b9de9;\n    border-radius: 4px;\n    padding: 0 8px;\n    line-height: 30px;\n    color: #666666;\n    background: rgba(255, 255, 255, 0.7);\n"]);return A=function(){return e},e}function z(){var e=Object(f.a)(["\n    border-bottom: 2px solid;\n    border-color: gray;\n    background: #5583d8;\n    color: white;\n    padding-left: 10px;\n    border-radius: 6px 6px 0px 0px;\n"]);return z=function(){return e},e}function V(){var e=Object(f.a)(["\n  background-color: transparent;\n  border: 0px;\n"]);return V=function(){return e},e}function G(){var e=Object(f.a)(["\n  padding-top: 6px;\n"]);return G=function(){return e},e}function R(){var e=Object(f.a)(["\n  padding-left : 30px;\n"]);return R=function(){return e},e}function F(){var e=Object(f.a)(["\n  padding-top: 6px;\n"]);return F=function(){return e},e}function H(){var e=Object(f.a)(["\n    border: 1px solid #E9E9E9;\n    border-radius: 4px;\n    height: 140px;\n    padding: 5px;\n"]);return H=function(){return e},e}var B=b.a.div(H()),J=b.a.h5(F()),L=b.a.label(R()),_=b.a.div(G()),$=Object(b.a)(u.a)(V()),K=b.a.div(z()),W=b.a.div(A()),q=b.a.img(P()),X=b.a.div(M(),(function(e){return!0===e.show?"display : block;":"display : none;"})),Y=n(29),Q=n(43),Z=function(e){var t=e.option,n=e.handleClickDeleteOption,a=e.handleClickDuplicateOption,o=t.type.charAt(0).toUpperCase()+t.type.slice(1);return r.a.createElement(K,null,r.a.createElement(I.a,null,r.a.createElement(j.a,{xs:9},r.a.createElement("div",{className:"MyDragHandleClassName"},r.a.createElement(J,null,o,":",t.id))),r.a.createElement(j.a,null,"  ",r.a.createElement($,{variant:"light",onClick:function(e){return a(t)}},r.a.createElement(Q.a,null))," ",r.a.createElement($,{variant:"light",onClick:function(e){return n(t)}},r.a.createElement(Y.a,null)))))},ee=function(e){var t=e.option,n=e.handleUpdate;return r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(T,{propName:"selected",propValue:t.selected,label:"Checked",handleUpdate:n,toolTip:"Is it checked or unchecked by default."}))))},te=n(92),ne=n(64),ae=n.n(ne),re=n(65),oe=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).setTagText=function(e){a.tagName=e},a.handleClickAddTag=function(){a.props.handleClickAddTag({tagId:a.tagId,tagName:a.tagName.value}),a.tagId+=1,a.tagName.value=""},a.handleEnterAddTag=function(e){"Enter"===e.key&&""!==a.tagName.value&&(a.handleClickAddTag(),e.preventDefault())},a.tagName="",a.tagId=0,0!==e.option.items.length&&(a.tagId=e.option.items.reduce((function(e,t){return Math.max(e.id,t.id)}))+1),a}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a,md:"8"},r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,null,"Selected:")),r.a.createElement(h.a.Control,{as:"select",name:"selected",onChange:this.props.handleUpdate,value:this.props.option.selected},r.a.createElement("option",{key:"-1",value:"-1"}," "),this.props.option.items.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))))),r.a.createElement(S.a,null,r.a.createElement(te.a,{placeholder:"Tag",onKeyDown:this.handleEnterAddTag,ref:this.setTagText}),r.a.createElement(S.a.Append,null,r.a.createElement(u.a,{onClick:this.handleClickAddTag,variant:"info"},"Add"))),r.a.createElement(B,null,r.a.createElement(re.DraggableArea,{tags:this.props.option.items,render:function(t){var n=t.tag;t.index;return r.a.createElement(W,null,r.a.createElement(q,{src:ae.a,onClick:function(){return e.props.handleClickDeleteTag(n)}}),n.name,n.price&&"$"+n.price)},onChange:function(t){return e.props.handleUpdatingTagOrder(t)}})))}}]),n}(r.a.Component),le=n(95),ie=function(e,t){return"exclude"===e.colorInclusion?t.filter((function(t){var n,a=Object(le.a)(e.items);try{for(a.s();!(n=a.n()).done;){if(n.value.id===t.id)return!1}}catch(r){a.e(r)}finally{a.f()}return!0})):"include"===e.colorInclusion?t.filter((function(t){return e.items.some((function(e){return t.id===e.id}))})):t},ce=n(34),de=n(96),se=n.n(de),pe=function(e){return e.name},ue=function(e){return r.a.createElement("div",null,e.name)};var me=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getSuggestions=function(e){var t=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===t)return[];var n=new RegExp(t,"i");return a.state.filament.filter((function(e){return-1!==e.name.search(n)}))},a.onSuggestionsFetchRequested=function(e){var t=e.value;a.setState({suggestions:a.getSuggestions(t)})},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.onSuggestionSelected=function(e,t){var n=t.suggestionValue,r=a.state.filament.filter((function(e){return e.name===n}));0!==r.length&&(0===a.props.option.items.filter((function(e){return e.name===r[0].name})).length&&(a.props.handleClickAddTag({tagId:r[0].id,tagName:r[0].name}),a.setState({choices:ie(a.props.option,a.state.filament)})),a.setState({color:""}))},a.setColor=function(e,t){var n=t.newValue;t.method;a.setState({color:n})},a.handleClickAddAllColor=function(){for(var e=[],t=0;t<a.state.filament.length;t++)e.push({id:a.state.filament[t].id,name:a.state.filament[t].name});a.props.handleUpdatingTagOrder(e),a.setState({choices:ie(a.props.option,a.state.filament)})},a.handleClickClearAllColor=function(){a.props.handleUpdatingTagOrder([]),a.setState({choices:ie(a.props.option,a.state.filament)})},a.state={color:"",suggestions:[],filament:ce.filament},a}return Object(d.a)(n,[{key:"updateSelectchoice",value:function(e,t){return ie(e,t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.color,a=t.suggestions,o={placeholder:"Color",value:n,onChange:this.setColor,disabled:"all"===this.props.option.colorInclusion},l={container:"autosuggest",input:"form-control",suggestionsContainer:"dropdown",suggestionsList:"dropdown-menu ".concat(a.length?"show":""),suggestion:"dropdown-item",suggestionHighlighted:"active"},i=this.updateSelectchoice(this.props.option,this.state.filament),c="all"!==this.props.option.colorInclusion;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a,md:"8"},r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,null,"Selected:")),r.a.createElement(h.a.Control,{as:"select",name:"colorId",onChange:this.props.handleUpdate,value:this.props.option.colorId},r.a.createElement("option",{key:"-1",value:"-1"}," "),i.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,null,"Color Inclusion:")),r.a.createElement(_,null,r.a.createElement(L,{className:"radio-inline"},r.a.createElement("input",{type:"radio",name:"colorInclusion",value:"all",checked:"all"===this.props.option.colorInclusion,onChange:this.props.handleUpdate,className:"form-check-input"}),"All"),r.a.createElement(L,{className:"radio-inline"},r.a.createElement("input",{type:"radio",name:"colorInclusion",value:"include",className:"form-check-input",checked:"include"===this.props.option.colorInclusion,onChange:this.props.handleUpdate}),"Include"),r.a.createElement(L,{className:"radio-inline"},r.a.createElement("input",{type:"radio",name:"colorInclusion",value:"exclude",className:"form-check-input",checked:"exclude"===this.props.option.colorInclusion,onChange:this.props.handleUpdate}),"Exclude")))))),r.a.createElement(X,{show:c},r.a.createElement(S.a,null,r.a.createElement(se.a,{suggestions:a,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:pe,renderSuggestion:ue,inputProps:o,theme:l}),r.a.createElement(S.a.Append,null,r.a.createElement(u.a,{onClick:this.handleClickAddAllColor,variant:"info",disabled:"all"===this.props.option.colorInclusion},"Add All")),r.a.createElement(S.a.Append,null,r.a.createElement(u.a,{onClick:this.handleClickClearAllColor,variant:"info",disabled:"all"===this.props.option.colorInclusion},"Clear All"))),r.a.createElement(B,null,r.a.createElement(re.DraggableArea,{tags:this.props.option.items,render:function(t){var n=t.tag;t.index;return r.a.createElement(W,null,r.a.createElement(q,{src:ae.a,onClick:function(){return e.props.handleClickDeleteTag(n)}}),n.name)},onChange:function(t){return e.props.handleUpdatingTagOrder(t)}}))))}}]),n}(r.a.Component),he=function(e){var t=e.option,n=e.handleUpdate,a=e.handleUpdatingTagOrder,o=e.handleClickDeleteTag,l=e.handleClickAddTag;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(N,{propName:"price.Prem",propValue:t.price.Prem,label:"Prem:",handleUpdate:n,type:"Number",toolTip:"only set if using auto populate variant"})),r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(N,{propName:"price.UltPrem",propValue:t.price.UltPrem,label:"UltPrem:",handleUpdate:n,type:"Number",toolTip:"only set if using auto populate variant"}))),r.a.createElement(me,{option:t,handleUpdate:n,handleUpdatingTagOrder:a,handleClickDeleteTag:o,handleClickAddTag:l})))},ge=function(e){var t=e.option,n=e.handleUpdate,a=e.propertyName,o=e.parameterList,l=a.charAt(0).toUpperCase()+a.slice(1);return r.a.createElement(h.a.Row,null,o.map((function(e,o){return r.a.createElement(j.a,{sm:0===o?5:void 0},r.a.createElement(h.a.Group,null,r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,null,0===o&&l," ",e,":")),r.a.createElement(h.a.Control,{value:t[a][e],name:a+"."+e,type:"number",onChange:n}))))})))},fe=function(e){var t=e.option,n=e.handleUpdate,a=["x","y","z"];return r.a.createElement(h.a,null,r.a.createElement(ge,{option:t,handleUpdate:n,propertyName:"camera",parameterList:a}),r.a.createElement(ge,{option:t,handleUpdate:n,propertyName:"position",parameterList:a}),r.a.createElement(ge,{option:t,handleUpdate:n,propertyName:"scale",parameterList:a}),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(N,{propName:"mindist",propValue:t.mindist,label:"Min Dist",placeholder:"",handleUpdate:n,type:"Number",toolTip:"Closet the user can zoom"})),r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(N,{propName:"maxdist",propValue:t.maxdist,label:"Max Dist",placeholder:"",handleUpdate:n,type:"Number",toolTip:"Farthest the user can zoom"}))))};function be(){var e=Object(f.a)(["\n  padding: 2px; \n"]);return be=function(){return e},e}function ve(){var e=Object(f.a)(["\n    border-bottom: 2px solid;\n    border-color: gray;\n    background: #516892;\n    color: white;\n    padding-left: 10px;\n    border-radius: 5px 5px 0px 0px;\n"]);return ve=function(){return e},e}function Ee(){var e=Object(f.a)(["\n  background-color: transparent;\n  border: 0px;\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(f.a)(["\n  padding-top: 3px;\n"]);return Oe=function(){return e},e}function ke(){var e=Object(f.a)(["\n  padding: 1px;\n  transition: background-color 0.2s ease;\n  background-color: ","\n"]);return ke=function(){return e},e}function xe(){var e=Object(f.a)(["\n  border:1px solid lightgray;\n  border-radius: 8px;\n  margin-bottom: 4px;\n  background-color:white;\n  height: 250px;\n"]);return xe=function(){return e},e}function ye(){var e=Object(f.a)(["\n  border:1px solid lightgray;\n  border-radius: 8px;\n  margin-bottom: 4px;\n  background-color:white;\n"]);return ye=function(){return e},e}var Ce=b.a.div(ye()),je=b.a.div(xe()),Se=b.a.div(ke(),(function(e){return e.isDraggingOver?"skyblue":"white"})),we=b.a.h5(Oe()),Ue=Object(b.a)(u.a)(Ee()),Ne=b.a.div(ve()),Te=Object(b.a)(h.a)(be()),De=n(21),Ie=function(e){var t=e.propValue,n=e.propName,a=e.label,o=e.handleUpdate,l=e.toolTip;return r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(w.a,{placement:"top",delay:{show:250,hide:200},overlay:r.a.createElement(U.a,{id:"button-tooltip"},l)},r.a.createElement(S.a.Text,{style:{backgroundColor:"#bfdcd1"},id:n+"Label"},a))),r.a.createElement(S.a.Checkbox,{name:n,"aria-label":"option 1",checked:t,onChange:o}))},Me=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.model,n=[["Stand","Stand"],["Prem","Prem"],["UltPrem","UltP"]];return r.a.createElement(De.b,{draggableId:t.id,index:this.props.index},(function(a){return r.a.createElement(Ce,Object.assign({},a.draggableProps,a.dragHandleProps,{ref:a.innerRef}),r.a.createElement(Ne,null,r.a.createElement(I.a,null,r.a.createElement(j.a,{xs:9},r.a.createElement(we,null,"Model:",t.id)),r.a.createElement(j.a,null," ",r.a.createElement(Ue,{variant:"light",onClick:function(n){return e.props.handleClickDupModel(t)}},r.a.createElement(Q.a,null))," ",r.a.createElement(Ue,{variant:"light",onClick:function(n){return e.props.handleDeleteModel(t.id)}},r.a.createElement(Y.a,null))))),r.a.createElement(Te,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(N,{propName:"name",propValue:t.name,label:"Name:",placeholder:"Name",handleUpdate:e.props.handleUpdatingModel,type:"text",toolTip:"Name of the Model"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(N,{propName:"filename",propValue:t.filename,label:"Filename:",placeholder:"Name of the STL",handleUpdate:e.props.handleUpdatingModel,type:"text",toolTip:"Name of the Model"}))),r.a.createElement(h.a.Row,null,n.map((function(n,a){return r.a.createElement(j.a,{key:a},r.a.createElement(h.a.Group,null,r.a.createElement(N,{propName:"price."+n[0],propValue:t.price[n[0]],label:n[1]+":",handleUpdate:e.props.handleUpdatingModel,type:"Number",toolTip:"Price setting for "+n[0]})))}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(T,{propName:"show",propValue:t.show,label:"Show:",handleUpdate:e.props.handleUpdatingModel,toolTip:"Should the model be shown"})),r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(Ie,{propName:"inGroup",propValue:t.inGroup,label:"Group:",handleUpdate:e.props.handleUpdatingModel,toolTip:"Is this model part of Group. Group allow the user to                 choose between a set of models. If Multiselect is on, they can                 add all models with same group."})),r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(Ie,{propName:"selected",propValue:t.selected,label:"Selected:",handleUpdate:e.props.handleUpdatingModel,toolTip:"Is this model selected at the start. Note:                 If mutlselect is not on, only one model should be select per group."}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,{style:{backgroundColor:"#bfdcd1"},id:"group"},"Group Name:")),r.a.createElement(h.a.Control,{value:t.group,name:"group",type:"text",placeholder:"Groups model by name",onChange:e.props.handleUpdatingModel,disabled:!t.inGroup}))))))}))}}]),n}(r.a.Component),Pe=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.option.modelSection.modelOrder,n=this.props.option.modelSection;return r.a.createElement(De.a,{onDragEnd:this.props.reorderModels},r.a.createElement(De.c,{droppableId:this.props.option.id,renderClone:function(e,n,a){return r.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),r.a.createElement(je,null,r.a.createElement(Ne,null,r.a.createElement(I.a,null,r.a.createElement(j.a,{xs:9},r.a.createElement(we,null,"Model:",t[a.source.index])),r.a.createElement(j.a,null," ",r.a.createElement(Ue,{variant:"light"},r.a.createElement(Q.a,null))," ",r.a.createElement(Ue,{variant:"light"},r.a.createElement(Y.a,null))))),r.a.createElement(Te,null)))}},(function(a,o){return r.a.createElement(Se,Object.assign({ref:a.innerRef},a.droppableProps,{isDraggingOver:o.isDraggingOver}),t.map((function(t,a){return r.a.createElement(Me,{key:t,index:a,model:n.models[t],handleUpdatingModel:function(n){return e.props.handleUpdatingModel(t,n)},handleClickDupModel:e.props.handleClickDupModel,handleDeleteModel:e.props.handleDeleteModel})})),a.placeholder)})))}}]),n}(r.a.Component),Ae=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(N,{propName:"section",propValue:this.props.option.section,label:"Section",placeholder:"Section Name",handleUpdate:this.props.handleUpdate,type:"text",toolTip:"Name of the option"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(T,{propName:"hasCostTier",propValue:this.props.option.hasCostTier,label:"Has Cost Tier",handleUpdate:this.props.handleUpdate,toolTip:"Choose if changing the option affect price."})),r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(T,{propName:"multiSelect",propValue:this.props.option.multiSelect,label:"MultiSelect",handleUpdate:this.props.handleUpdate,toolTip:"Set true if more then one option can be selected.                 Note: Every model has to belong to the same group"}))),r.a.createElement(h.a.Row,null,["Stand","Prem","UltPrem"].map((function(t,n){return r.a.createElement(j.a,{key:n},r.a.createElement(h.a.Group,null,r.a.createElement(N,{propName:"costTier."+t,propValue:e.props.option.costTier[t],label:t+":",handleUpdate:e.props.handleUpdate,type:"Number",toolTip:"Visual show price for "+t})))})))),r.a.createElement(me,{option:this.props.option,handleUpdate:this.props.handleUpdate,handleUpdatingTagOrder:this.props.handleUpdatingTagOrder,handleClickDeleteTag:this.props.handleClickDeleteTag,handleClickAddTag:this.props.handleClickAddTag}),r.a.createElement(u.a,{variant:"info",onClick:this.props.handleClickAddModel}," Add Model"),r.a.createElement(Pe,{option:this.props.option,handleUpdatingModel:this.props.handleUpdatingModel,reorderModels:this.props.reorderModels,handleClickDupModel:this.props.handleClickDupModel,handleDeleteModel:this.props.handleDeleteModel}))}}]),n}(r.a.Component),ze=n(152),Ve=function(e){var t=e.option,n=e.handleUpdate,a=e.handleUpdatingTagOrder,o=e.handleClickDeleteTag,l=e.handleClickAddTag,i=e.reorderModels,c=e.handleClickAddModel,d=e.handleDeleteModel,s=e.handleUpdatingModel,p=e.handleClickDupModel;return"checkbox"===t.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{option:t,handleUpdate:n}),r.a.createElement(ee,{option:t,handleUpdate:n})):"dropdown"===t.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{option:t,handleUpdate:n}),r.a.createElement(oe,{option:t,handleUpdate:n,handleUpdatingTagOrder:a,handleClickDeleteTag:o,handleClickAddTag:l})):"colorpicker"===t.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{option:t,handleUpdate:n}),r.a.createElement(he,{option:t,handleUpdate:n,handleUpdatingTagOrder:a,handleClickDeleteTag:o,handleClickAddTag:l})):"stl"===t.type?r.a.createElement(fe,{option:t,handleUpdate:n}):"section"===t.type?r.a.createElement(Ae,{option:t,handleUpdate:n,reorderModels:i,handleUpdatingTagOrder:a,handleClickDeleteTag:o,handleClickAddTag:l,handleClickAddModel:c,handleDeleteModel:d,handleUpdatingModel:s,handleClickDupModel:p}):void 0},Ge=function(e){var t=e.option,n=e.handleUpdate,a=e.handleUpdatingTagOrder,o=e.handleClickDeleteTag,l=e.handleClickAddTag,i=e.handleClickDeleteOption,c=e.handleClickDuplicateOption,d=e.reorderModels,s=e.handleClickAddModel,p=e.handleDeleteModel,u=e.handleUpdatingModel,m=e.handleClickDupModel;return r.a.createElement("div",{className:"panel"},r.a.createElement(Z,{option:t,handleClickDeleteOption:i,handleClickDuplicateOption:c}),r.a.createElement(ze.a,{style:{paddingTop:"6px"}},r.a.createElement(Ve,{option:t,handleUpdate:n,handleUpdatingTagOrder:a,handleClickDeleteTag:o,handleClickAddTag:l,reorderModels:d,handleClickAddModel:s,handleDeleteModel:p,handleUpdatingModel:u,handleClickDupModel:m})))},Re=function(e){for(var t=e.options,n=e.handleUpdate,a=e.handleUpdatingTagOrder,o=e.handleClickDeleteTag,l=e.handleClickAddTag,i=e.handleClickDeleteOption,c=e.handleUpdatingOptionOrder,d=e.handleClickDuplicateOption,s=e.reorderModels,p=e.handleClickAddModel,u=e.handleDeleteModel,m=e.handleUpdatingModel,h=e.handleClickDupModel,g=[],f=0,b=0;b<t.length;b++){var v=t[b],E=4;"dropdown"===v.type?E=9:"checkbox"===v.type?E=5:"colorpicker"===v.type?E="all"===v.colorInclusion?7.2:11.2:"stl"===v.type?E=6:"section"===v.type&&(E="all"===v.colorInclusion?9:13,E+=6.75*v.modelSection.modelOrder.length),g.push({i:v.id,x:0,y:f,w:1,h:E}),f+=E}return r.a.createElement("div",null,r.a.createElement(C.a,{className:"layout",layout:g,cols:1,rows:12,rowHeight:35,width:500,isResizable:!1,autoSize:!0,onLayoutChange:c,draggableHandle:".MyDragHandleClassName"},g.map((function(e,c){return r.a.createElement("div",{key:e.i},r.a.createElement(Ge,{option:t[c],handleUpdate:function(e){return n(c,e)},handleUpdatingTagOrder:function(e){return a(c,e)},handleClickDeleteTag:function(e){return o(c,e)},handleClickAddTag:function(e){return l(c,e)},handleClickDeleteOption:i,handleClickDuplicateOption:d,reorderModels:function(e){return s(c,e)},handleClickAddModel:function(e){return p(c,e)},handleDeleteModel:function(e){return u(c,e)},handleUpdatingModel:function(e,t){return m(c,e,t)},handleClickDupModel:function(e){return h(c,e)}}))}))))};function Fe(){var e=Object(f.a)(["\n  padding-top: 8px;\n"]);return Fe=function(){return e},e}function He(){var e=Object(f.a)(["\n  position: relative;\n  right: 10px;\n"]);return He=function(){return e},e}function Be(){var e=Object(f.a)(["\n"]);return Be=function(){return e},e}b.a.div(Be());var Je=Object(b.a)(u.a)(He()),Le=b.a.div(Fe()),_e=function(e){var t=e.data,n=e.handleSetPrice;return r.a.createElement(ze.a,null,r.a.createElement(I.a,{className:"d-flex justify-content-between"},r.a.createElement(j.a,null,r.a.createElement(Le,null,"Number of Varients: ",t.numVarients)),r.a.createElement(Je,{onClick:n},"Set Price")))};function $e(){var e=Object(f.a)(["\n  display: flex;\n  width : 520px;\n  align-items: center;\n  position: relative;\n  z-index: 10;\n  height: 60px;\n  border-radius: 3px;\n  border-top: 2px solid lightgray;\n  border-right: 2px solid lightgray;\n"]);return $e=function(){return e},e}function Ke(){var e=Object(f.a)(["\n    width : 520px;\n    height: ",";\n    overflow: auto;\n    overflow-x:hidden;\n"]);return Ke=function(){return e},e}function We(){var e=Object(f.a)(["\n    /* display: flex; */\n    /* align-items: center; */\n    z-index: 10;\n    height: 50px;\n    width: 520px;\n    border-radius: 3px;\n    border-bottom: 2px solid lightgray;\n    border-right: 2px solid lightgray;\n"]);return We=function(){return e},e}var qe=b.a.div(We()),Xe=b.a.div(Ke(),(function(e){return e.height})),Ye=b.a.div($e());function Qe(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var Ze=function(e){var t=e.data,n=e.handleAdd,o=e.handleUpdate,l=e.handleUpdatingTagOrder,c=e.handleClickDeleteTag,d=e.handleClickAddTag,s=e.handleClickDeleteOption,p=e.handleUpdatingOptionOrder,u=e.handleClickDuplicateOption,m=e.handleSetPrice,h=e.importJson,g=e.reorderModels,f=e.handleClickAddModel,b=e.handleDeleteModel,v=e.handleUpdatingModel,E=e.handleClickDupModel,O=function(){var e=Object(a.useState)(Qe()),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){r(Qe())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}().height;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe,null,r.a.createElement(x,{handleAdd:n,importJson:h})),r.a.createElement(Xe,{height:O-125+"px"},r.a.createElement(Re,{options:t.options,handleUpdate:o,handleUpdatingTagOrder:l,handleClickDeleteTag:c,handleClickAddTag:d,handleClickDeleteOption:s,handleUpdatingOptionOrder:p,handleClickDuplicateOption:u,reorderModels:g,handleClickAddModel:f,handleDeleteModel:b,handleUpdatingModel:v,handleClickDupModel:E})),r.a.createElement(Ye,null,r.a.createElement(_e,{data:t,handleSetPrice:m})))},et=n(98);function tt(){var e=Object(f.a)(["\n.Resizer {\n  background: #000;\n  opacity: 0.2;\n  z-index: 1;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -moz-background-clip: padding;\n  -webkit-background-clip: padding;\n  background-clip: padding-box;\n}\n\n.Resizer:hover {\n  -webkit-transition: all 2s ease;\n  transition: all 2s ease;\n}\n\n.Resizer.horizontal {\n  height: 11px;\n  margin: -5px 0;\n  border-top: 5px solid rgba(255, 255, 255, 0);\n  border-bottom: 5px solid rgba(255, 255, 255, 0);\n  cursor: row-resize;\n  width: 100%;\n}\n\n.Resizer.horizontal:hover {\n  border-top: 5px solid rgba(0, 0, 0, 0.5);\n  border-bottom: 5px solid rgba(0, 0, 0, 0.5);\n}\n\n.Resizer.vertical {\n  width: 11px;\n  margin: 0 -5px;\n  border-left: 5px solid rgba(255, 255, 255, 0);\n  border-right: 5px solid rgba(255, 255, 255, 0);\n  cursor: col-resize;\n}\n\n.Resizer.vertical:hover {\n  border-left: 5px solid rgba(0, 0, 0, 0.5);\n  border-right: 5px solid rgba(0, 0, 0, 0.5);\n}\n.Resizer.disabled {\n  cursor: not-allowed;\n}\n.Resizer.disabled:hover {\n  border-color: transparent;\n}\n// .Pane {\n//   -webkit-transition:height .6s ease-in-out;\n//   transition:height .6s ease-in-out;\n//   -moz-transition: height .6s ease-in-out;\n// }\n\n"]);return tt=function(){return e},e}function nt(){var e=Object(f.a)(["\n  // min-width: 600px;\n  width:100%;\n"]);return nt=function(){return e},e}function at(){var e=Object(f.a)(["\n  width : 520px;\n"]);return at=function(){return e},e}function rt(){var e=Object(f.a)(["\n  width : 100%;\n  height: 100%;\n  display: flex;\n"]);return rt=function(){return e},e}var ot=b.a.div(rt()),lt=b.a.div(at()),it=b.a.div(nt()),ct=b.a.div(tt()),dt=n(35),st=n(9);function pt(e,t){var n={};t.forEach((function(e){"dropdown"===e.type&&(n[e.id]={},e.items.forEach((function(t){n[e.id][t.id]=t.name})))}));var a=[];return e.forEach((function(e){if(e.includes("dd")){var t=e.split("=");a.push(t[0]+"="+n[t[0]][t[1]])}else a.push(e)})),a}function ut(e,t,n){t.items=[],void 0!==e.includeColor?(e.includeColor.forEach((function(e){t.items.push({id:n[e].id,name:n[e].name})})),t.colorInclusion="include",delete t.includeColor):void 0!==e.excludeColor?(e.excludeColor.forEach((function(e){t.items.push({id:n[e].id,name:n[e].name})})),t.colorInclusion="exclude",delete t.excludeColor):t.colorInclusion="all"}function mt(e,t){var n=JSON.parse(e),a=ce.filament,r={};a.forEach((function(e){r[e.id]=e}));var o={mapping:{},options:[]};if(n.options.forEach((function(e){if("colorpicker"===e.type){var n=Object(st.a)({},e);ut(e,n,r),t.cp=Math.max(t.cp,parseInt(e.id.replace("cp",""))+1),o.options.push(n)}else"dropdown"===e.type?(t.dd=Math.max(t.dd,parseInt(e.id.replace("dd",""))+1),o.options.push(e)):"checkbox"===e.type&&(t.cb=Math.max(t.cb,parseInt(e.id.replace("cb",""))+1),o.options.push(e))})),n.stl){var l={};l.camera=n.stl.camera,l.position=n.stl.position,l.scale=n.stl.scale,l.mindist=n.stl.mindist,l.maxdist=n.stl.maxdist,l.type="stl",l.id="stl",o.options.push(l);var c={};n.stl.sections.forEach((function(e){var n=Object(st.a)({},e);ut(e,n,r),n.modelSection={models:{},modelOrder:[]},c[n.id]=o.options.length,t.sc=Math.max(t.sc,parseInt(n.id.replace("sc",""))+1),o.options.push(n)})),n.stl.models.forEach((function(e){var n=Object(st.a)({},e),a=n.section;delete n.section,o.options[c[a]].modelSection.models[e.id]=n,o.options[c[a]].modelSection.modelOrder.push(e.id),t.md=Math.max(t.md,parseInt(e.id.replace("md",""))+1)}))}for(var d={},s=0,p=Object.entries(n.mapping);s<p.length;s++){var u=Object(i.a)(p[s],2),m=u[0],h=u[1],g=pt(m.split("&"),o.options);d[m]={id:m,easyRead:g.join("&"),varient:h}}return o.mapping=d,o}function ht(e,t,n,a){e.length?e.forEach((function(e){a.forEach((function(a){var r=Object(dt.a)(e);""===a?r.push(a):r.push(n+"="+a),t.push(r)}))})):a.forEach((function(e){""===e?t.push([e]):t.push([n+"="+e])}))}function gt(e){var t={},n=[],a=[];return e.forEach((function(e){if(!0===e.priceDiff)"colorpicker"===e.type?ht(n,a,e.id,["Stand","Prem","UltPrem"]):"dropdown"===e.type?n.length?n.forEach((function(t){e.items.forEach((function(n){var r=Object(dt.a)(t);r.push(e.id+"="+n.id),a.push(r)}))})):e.items.forEach((function(t){a.push([e.id+"="+t.id])})):"checkbox"===e.type&&ht(n,a,e.id,["true","false"]),n=Object(dt.a)(a),a=[];else if("section"===e.type){if(e.multiSelect&&e.hasCostTier){e.modelSection.modelOrder.forEach((function(e){ht(n,a,e,["false","Stand","Prem","UltPrem"]),n=Object(dt.a)(a),a=[]}));var t=n;n=a,a=t}else if(e.multiSelect){e.modelSection.modelOrder.forEach((function(e){ht(n,a,e,["false","Stand"]),n=Object(dt.a)(a),a=[]}));var r=n;n=a,a=r}else e.hasCostTier&&ht(n,a,e.id,["Stand","Prem","UltPrem"]);n=Object(dt.a)(a),a=[]}})),n.forEach((function(n){var a=pt(n,e),r=n.filter(Boolean).join("&");t[r]={id:r,easyRead:a.filter(Boolean).join("&")}})),t}function ft(e,t){for(var a=n(138),r=ce.filament,o={},l=[],c=[],d={sections:[],models:[]},s=["Colorpicker"],p=function(){var e=Object(i.a)(m[u],2),t=e[0],n=e[1];if("unassigned"===t)return"continue";n.taskIds.forEach((function(e){o[e]=n.title,s.push(n.title)}))},u=0,m=Object.entries(t);u<m.length;u++)p();c.push(s.join(",")+"\n"),e.options.forEach((function(e){if("colorpicker"===e.type){var t=Object(st.a)({},e);if("all"===e.colorInclusion);else if("include"===e.colorInclusion){var n=[];e.items.forEach((function(e){n.push(e.id)})),t.includeColor=n}else if("exclude"===e.colorInclusion){var a=[];e.items.forEach((function(e){a.push(e.id)})),t.excludeColor=a}var o=ie(e,r),i=[e.name];o.forEach((function(e){i.push(e.name)})),c.push(i.join(",")+"\n"),delete t.colorInclusion,delete t.items,l.push(t)}else if("dropdown"===e.type){var s=[e.name];e.items.forEach((function(e){s.push(e.name)})),c.push(s.join(",")+"\n"),l.push(e)}else if("checkbox"===e.type)l.push(e);else if("stl"===e.type)d.camera=e.camera,d.position=e.position,d.scale=e.scale,d.mindist=e.mindist,d.maxdist=e.maxdist;else if("section"===e.type){var p=Object(st.a)({},e);if("all"===e.colorInclusion);else if("include"===e.colorInclusion){var u=[];e.items.forEach((function(e){u.push(e.id)})),p.includeColor=u}else if("exclude"===e.colorInclusion){var m=[];e.items.forEach((function(e){m.push(e.id)})),p.excludeColor=m}delete p.colorInclusion,delete p.items,delete p.modelSection,d.sections.push(p),e.modelSection.modelOrder.forEach((function(t){var n=e.modelSection.models[t];""===n.group&&delete n.group,n.colorId=e.colorId,n.section=e.id,d.models.push(n)}))}}));var h={mapping:o,options:l};d.sections.length&&(h.stl=d);var g=JSON.stringify(h,null,2),f=new Blob([g],{type:"application/json"});a.saveAs(f,"file.json");var b=new Blob([c],{type:"text/plain;charset=utf-8"});a.saveAs(b,"Varients.csv")}function bt(e,t){return"checkbox"===e?{id:"cb"+t.cb++,name:"",type:"checkbox",priceDiff:!1,price:1,selected:!1}:"dropdown"===e?{id:"dd"+t.dd++,name:"",type:"dropdown",priceDiff:!1,selected:"",items:[]}:"colorpicker"===e?{id:"cp"+t.cp++,name:"",type:"colorpicker",priceDiff:!1,colorId:"",colorInclusion:"all",price:{Prem:1,UltPrem:2},items:[]}:"section"===e?{id:"sc"+t.sc++,section:"",type:"section",hasCostTier:!1,costTier:{Stand:0,Prem:2,UltPrem:3},colorid:"",colorInclusion:"all",items:[],modelSection:{models:{},modelOrder:[]},multiSelect:!1}:"stl"===e?{id:"stl",camera:{x:0,y:0,z:0},position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},mindist:20,maxdist:60,type:"stl"}:null}function vt(){var e=Object(f.a)(["\n  padding:12px;\n"]);return vt=function(){return e},e}function Et(){var e=Object(f.a)(["\n  overflow: hidden;\n  width: 125px;\n"]);return Et=function(){return e},e}function Ot(){var e=Object(f.a)(["\n  width: 208px;\n  height: 36px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: white;\n  color: black;\n  border-color: lightgray;\n"]);return Ot=function(){return e},e}function kt(){var e=Object(f.a)(["\n  ","\n"]);return kt=function(){return e},e}function xt(){var e=Object(f.a)(["\n  margin-left: 20px;\n"]);return xt=function(){return e},e}function yt(){var e=Object(f.a)(["\n\n"]);return yt=function(){return e},e}function Ct(){var e=Object(f.a)(["\n  border-radius: 2px;\n  float: left;\n  min-width: 50px !important;\n  height: 35px !important;\n  margin: 0;\n  border: #ccc 1px solid;\n  background-color: #ddd;\n  font-size: 13px;\n  text-align: center;\n  line-height: 35px;\n  white-space: nowrap;\n  text-transform: uppercase;\n  padding: 0 10px;\n  cursor: pointer;\n  &.is-selected {\n    box-shadow: 0px 1px 2px rgba(0,0,0,0.8);\n    border-color: transparent;\n    background-color: #b5c8da;\n  }\n"]);return Ct=function(){return e},e}function jt(){var e=Object(f.a)(['\n  padding: .75rem;\n  padding-left: .25rem;\n  padding-right: .25rem;\n  display: block;\n  font-size: 16px;\n  font-family: "Work Sans","HelveticaNeue","Helvetica Neue",sans-serif;\n  color: #3d4246;\n  line-height: 1.5;\n']);return jt=function(){return e},e}function St(){var e=Object(f.a)(['\n  margin: 0px;\n  font-size: 16px;\n  font-family: "Work Sans","HelveticaNeue","Helvetica Neue",sans-serif;\n  color: #3d4246;\n  line-height: 1.5;\n']);return St=function(){return e},e}function wt(){var e=Object(f.a)(['\n  margin: 0px;\n  color: #363636;\n  font-size: 1.5rem;\n  font-weight: 600;\n  line-height: 1.125;\n  font-family: "Work Sans","HelveticaNeue","Helvetica Neue",sans-serif;\n']);return wt=function(){return e},e}function Ut(){var e=Object(f.a)(["\n  width: 42px;\n  height: 32px;\n  position: relative;\n  left: -6px;\n  border-radius: 2px;\n  border: 1px solid #a7a7a7;\n"]);return Ut=function(){return e},e}function Nt(){var e=Object(f.a)(["\n  width: 50px;\n  border-radius: 10%;\n  cursor: pointer;\n  padding: 1px;\n  border: 2px solid;\n  &.is-selected {\n    box-shadow: 1px 4px 5px rgba(0,0,0,0.8);\n    background-color: #b5c8da;\n  }\n"]);return Nt=function(){return e},e}function Tt(){var e=Object(f.a)(["\n  cursor: pointer;\n  display: inline-block;\n  line-height: 1.25;\n  position: relative;\n  font-size: 20px;\n  padding-top: 1.5rem;\n  padding-bottom: 1.5rem;\n  padding-left: 0.75rem;\n"]);return Tt=function(){return e},e}function Dt(){var e=Object(f.a)(["\n  padding-top: 40px;\n  width: 560px;\n"]);return Dt=function(){return e},e}var It=Object(b.a)(ze.a)(Dt()),Mt=b.a.label(Tt()),Pt=b.a.img(Nt()),At=b.a.img(Ut()),zt=b.a.h3(wt()),Vt=b.a.p(St()),Gt=b.a.div(jt()),Rt=b.a.label(Ct()),Ft=(b.a.div(yt()),Object(b.a)(I.a)(xt())),Ht=Object(b.a)(I.a)(kt(),(function(e){return"section"===e.type?"background-color : lightgray;":"background-color : white;"})),Bt=Object(b.a)(g.a.Toggle)(Ot()),Jt=b.a.span(Et()),Lt=Object(b.a)(j.a)(vt()),_t=function(e){var t=e.option;return r.a.createElement(I.a,null,r.a.createElement("div",{className:"form-check"},r.a.createElement(Mt,{className:"form-chech-label"},r.a.createElement("input",{type:"checkbox",className:"form-check-input"}),t.name)))},$t=function(e){var t=e.option;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(zt,null,t.name)),r.a.createElement(I.a,null,t.items.map((function(e){return r.a.createElement(Gt,{key:e.id},r.a.createElement(Rt,{className:t.selected===e.id&&"is-selected"},e.name))}))))},Kt=function(e){var t=e.option,n=e.filament,a=ie(t,n);return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(zt,null,t.name,""!==t.colorId?": "+t.colorId:"")),r.a.createElement(I.a,null,a.map((function(e){return r.a.createElement(Gt,{key:e.id,style:{padding:"3.2px"}},r.a.createElement(Pt,{className:t.colorId===e.id&&"is-selected",src:e.zoom}))}))))},Wt=function(e){var t=e.colors,n=e.selectedColor;return r.a.createElement(g.a,null,r.a.createElement(Bt,null,r.a.createElement(At,{src:void 0!==n?n.zoom:""}),r.a.createElement(Jt,null,void 0!==n?n.name:"")),r.a.createElement(g.a.Menu,null,t.map((function(e){return r.a.createElement(g.a.Item,{key:e.id,eventKey:e.id},r.a.createElement(At,{src:e.zoom}),e.name)}))))},qt=function(e){var t=e.modelGrp,n=e.section,a=e.selectedFilament,o=e.selectedColor;return!0===n.multiSelect?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:"inline-$checkbox",className:"mb-3"},t.map((function(e){return r.a.createElement(h.a.Check,{key:e.id,inline:!0,label:e.name,type:"checkbox",id:"inline-$checkbox-"+e.id,checked:e.selected})}))),r.a.createElement("div",{style:{paddingLeft:"20px"}},t.map((function(e){return!0===e.selected?r.a.createElement(Ft,{key:e.id},r.a.createElement(Lt,null,r.a.createElement(Vt,null,e.name,":")),r.a.createElement(Lt,null,r.a.createElement(Wt,{colors:a,selectedColor:o}))):r.a.createElement(r.a.Fragment,null)})))):1===t.length?r.a.createElement(Ft,null,r.a.createElement(Lt,null,r.a.createElement(Vt,null,t[0].name,":")),r.a.createElement(Lt,null,r.a.createElement(Wt,{colors:a,selectedColor:o}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:"inline-$radio",className:"mb-3"},t.map((function(e){return r.a.createElement(h.a.Check,{inline:!0,readOnly:!0,label:e.name,key:e.id,type:"radio",id:"inline-$radio-"+e.id,checked:e.selected})}))),r.a.createElement("div",{style:{paddingLeft:"20px"}},t.map((function(e){return!0===e.selected?r.a.createElement(Ft,{key:e.id},r.a.createElement(Lt,null,r.a.createElement(Vt,null,e.name,":")),r.a.createElement(Lt,null,r.a.createElement(Wt,{colors:a,selectedColor:o}))):r.a.createElement(r.a.Fragment,null)}))))},Xt=function(e){for(var t=e.option,n=e.filament,a=ie(t,n),o=t.modelSection.models,l=n.filter((function(e){return t.colorId===e.id})),c=Object.keys(o).length,d=[],s={},p=0,u=Object.entries(o);p<u.length;p++){var m=Object(i.a)(u[p],2),h=(m[0],m[1]);!1===h.inGroup?d.push([h]):void 0===s[h.group]?(d.push([h]),s[h.group]=d.length-1):d[s[h.group]].push(h)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ht,{type:"section"},r.a.createElement(Lt,null,r.a.createElement(zt,null,t.section,":")),r.a.createElement(Lt,null,r.a.createElement(Wt,{colors:a,selectedColor:l[0]}))),c>1&&d.map((function(e,n){return r.a.createElement(qt,{key:n,modelGrp:e,section:t,selectedFilament:a,selectedColor:l[0]})})))},Yt=function(e){var t=e.option,n=e.filament;return"checkbox"===t.type?r.a.createElement(_t,{option:t}):"dropdown"===t.type?r.a.createElement($t,{option:t}):"colorpicker"===t.type?r.a.createElement(Kt,{option:t,filament:n}):"section"===t.type?r.a.createElement(Xt,{option:t,filament:n}):r.a.createElement(r.a.Fragment,null)},Qt=function(e){var t=e.data,n=ce.filament;return r.a.createElement(It,null,t.options.map((function(e){return r.a.createElement(Yt,{key:e.id,option:e,filament:n})})))},Zt=n(30);function en(){var e=Object(f.a)(["\n  display: inline-block;\n  position: relative;\n"]);return en=function(){return e},e}function tn(){var e=Object(f.a)(["\n  margin-left:10px;\n"]);return tn=function(){return e},e}function nn(){var e=Object(f.a)(["\n  background-color: transparent;\n  color: black;\n  border-color: transparent;\n"]);return nn=function(){return e},e}function an(){var e=Object(f.a)(["\n  display:flex;\n  justify-content: flex-end;\n"]);return an=function(){return e},e}function rn(){var e=Object(f.a)(["\n  display:flex;\n  justify-content: flex-start;\n  align-items:center;\n"]);return rn=function(){return e},e}function on(){var e=Object(f.a)(["\n  width:200px;\n"]);return on=function(){return e},e}function ln(){var e=Object(f.a)(["\n  padding-left:5px;\n  vertical-align: middle;\n  width:125px;\n"]);return ln=function(){return e},e}var cn=b.a.div(ln()),dn=b.a.div(on()),sn=b.a.div(rn()),pn=b.a.div(an()),un=Object(b.a)(u.a)(nn()),mn=Object(b.a)(u.a)(tn()),hn=Object(b.a)(v.a)(en()),gn=n(77),fn=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).addVarient=function(){""!==a.variantName.value&&(a.props.addColumns(a.variantName.value),a.variantName.value="")},a.handleEnterAddVarient=function(e){"Enter"===e.key&&(a.addVarient(),e.preventDefault())},a.setVariantText=function(e){a.variantName=e},a.variantName="",a}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(sn,null,r.a.createElement(cn,null,"Add a Varient:"),r.a.createElement(dn,null,r.a.createElement(S.a,null,r.a.createElement(te.a,{placeholder:"Varient Name",onKeyDown:this.handleEnterAddVarient,ref:this.setVariantText}),r.a.createElement(S.a.Append,null,r.a.createElement(u.a,{onClick:this.addVarient,variant:"info"},"Add")))),r.a.createElement(hn,{title:"Auto Populate Variant",onSelect:function(t){return e.props.generateVarient(t)},variant:"outline-primary"},r.a.createElement(g.a.Item,{eventKey:"onetoone"},"For Each Remaining"),r.a.createElement(g.a.Item,{eventKey:"price"},"By Price"),r.a.createElement(g.a.Item,{eventKey:"priceBuckets"},"By Price Bucket"))," ",r.a.createElement(mn,{onClick:this.props.exportJson},"Export")),r.a.createElement(pn,null,r.a.createElement(un,{onClick:function(t){return e.props.changeHeight("down")},variant:"light"},r.a.createElement(gn.b,null)),r.a.createElement(un,{onClick:function(t){return e.props.changeHeight("up")},variant:"light"},r.a.createElement(gn.a,null))))}}]),n}(r.a.Component);function bn(){var e=Object(f.a)(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: clip;\n  :hover {\n    overflow:visible;\n  }\n"]);return bn=function(){return e},e}function vn(){var e=Object(f.a)(["\n  position:absolute;\n  top: 0px;\n  right: 0px;\n"]);return vn=function(){return e},e}function En(){var e=Object(f.a)(["\n  padding:8px;\n  transition: background-color 0.2s ease;\n  background-color: ",";\n  flex-grow: 1;\n  min-height: 100px;\n"]);return En=function(){return e},e}function On(){var e=Object(f.a)(["\n  padding:8px;\n  padding-right:40px;\n"]);return On=function(){return e},e}function kn(){var e=Object(f.a)(["\n  border:1px solid lightgrey;\n  border-radius: 2px;\n  padding: 8px;\n  margin-bottom:8 px;\n  background-color: ",";\n"]);return kn=function(){return e},e}function xn(){var e=Object(f.a)(["\n  display:flex;\n"]);return xn=function(){return e},e}function yn(){var e=Object(f.a)(["\n  position:relative;\n  margin: 8px;\n  border:1px solid lightgrey;\n  border-radius: 2px;\n  background-color:white;\n  min-width: 250px;\n\n  display: flex;\n  flex-direction: column;\n"]);return yn=function(){return e},e}var Cn=b.a.div(yn()),jn=b.a.div(xn()),Sn=b.a.div(kn(),(function(e){return e.isDragging?"lightgreen":"white"})),wn=b.a.h3(On()),Un=b.a.div(En(),(function(e){return e.isDraggingOver?"skyblue":"inherit"})),Nn=Object(b.a)(u.a)(vn()),Tn=b.a.div(bn()),Dn=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.task.content.split("&");return r.a.createElement(De.b,{draggableId:this.props.task.id,index:this.props.index},(function(t,n){return r.a.createElement(Sn,Object.assign({},t.draggableProps,t.dragHandleProps,{ref:t.innerRef,isDragging:n.isDragging}),e.map((function(e,t){return r.a.createElement(r.a.Fragment,null,0===t?"":"&",e,r.a.createElement("wbr",{key:t}))})))}))}}]),n}(r.a.Component),In=n(99),Mn=n.n(In),Pn=(n(139),function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(De.b,{draggableId:this.props.column.id,index:this.props.index},(function(t){return r.a.createElement(Cn,Object.assign({},t.draggableProps,{ref:t.innerRef}),r.a.createElement(Tn,t.dragHandleProps,"unassigned"!==e.props.column.id?r.a.createElement(Mn.a,{text:e.props.column.title,labelClassName:"VariantTitle",inputClassName:"VariantInput",onFocusOut:function(t){return e.props.updateColumnName(t,e.props.column.id)}}):r.a.createElement(wn,null,e.props.column.title),"unassigned"!==e.props.column.id&&r.a.createElement(Nn,{variant:"light",onClick:function(t){return e.props.deleteColumn(e.props.column.id)}},r.a.createElement(Y.a,null))),r.a.createElement(De.c,{droppableId:e.props.column.id,type:"task"},(function(t,n){return r.a.createElement(Un,Object.assign({ref:t.innerRef},t.droppableProps,{isDraggingOver:n.isDraggingOver}),e.props.tasks.map((function(e,t){return r.a.createElement(Dn,{key:e.id,task:e,index:t})})),t.placeholder)})))}))}}]),n}(r.a.Component)),An=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onDragEnd=function(t){var n=t.destination,a=t.source,r=t.draggableId,o=t.type;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index)){if("column"===o){var l=Array.from(e.props.columnOrder);return l.splice(a.index,1),l.splice(n.index,0,r),void e.props.updateColumnOrder(l)}var i=e.props.columns[a.droppableId],c=e.props.columns[n.droppableId];if(i!==c){var d=Array.from(i.taskIds);d.splice(a.index,1);var s=Object(st.a)(Object(st.a)({},i),{},{taskIds:d}),p=Array.from(c.taskIds);p.splice(n.index,0,r);var u=Object(st.a)(Object(st.a)({},c),{},{taskIds:p});e.props.updateLists(s,u)}else{var m=Array.from(i.taskIds);m.splice(a.index,1),m.splice(n.index,0,r);var h=Object(st.a)(Object(st.a)({},i),{},{taskIds:m});e.props.updateColumns(h)}}},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(De.a,{onDragEnd:this.onDragEnd},r.a.createElement(De.c,{droppableId:"all-columns",direction:"horizontal",type:"column"},(function(t){return r.a.createElement(jn,Object.assign({},t.droppableProps,{ref:t.innerRef}),e.props.columnOrder.map((function(t,n){var a=e.props.columns[t],o=a.taskIds.map((function(t){return e.props.tasks[t]}));return r.a.createElement(Pn,{key:a.id,column:a,tasks:o,index:n,deleteColumn:e.props.deleteColumn,updateColumnName:e.props.updateColumnName})})),t.placeholder)})))}}]),n}(r.a.Component);function zn(){var e=Object(f.a)(["\n  overflow: auto;\n  height: ",";\n"]);return zn=function(){return e},e}function Vn(){var e=Object(f.a)(["\n  display:flex;\n  align-items:center;\n  justify-content:space-between;\n  z-index: 10;\n  height: 55px;\n  border-radius: 3px;\n  border-bottom: 2px solid lightgray;\n  border-right: 2px solid lightgray;\n"]);return Vn=function(){return e},e}var Gn=b.a.div(Vn()),Rn=b.a.div(zn(),(function(e){return e.height})),Fn=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={mapping:e.props.mapping,tasks:{},columns:{unassigned:{id:"unassigned",title:"Unassigned Variants",taskIds:[]}},columnOrder:["unassigned"]},e.exportJson=function(){e.state.columns.unassigned.taskIds.length>0?alert("There are still some prices not assigned."):e.props.exportJson(e.state.columns)},e.addColumns=function(t){if(e.state.columns.hasOwnProperty(t))alert("Can't use the same varient name.");else{var n={id:t,title:t,taskIds:[]},a=e.state.columnOrder.slice();a.push(n.id);var r=Object(st.a)(Object(st.a)({},e.state),{},{columns:Object(st.a)(Object(st.a)({},e.state.columns),{},Object(Zt.a)({},n.id,n)),columnOrder:a});e.setState(r)}},e.updateLists=function(t,n){var a,r=Object(st.a)(Object(st.a)({},e.state),{},{columns:Object(st.a)(Object(st.a)({},e.state.columns),{},(a={},Object(Zt.a)(a,t.id,t),Object(Zt.a)(a,n.id,n),a))});e.setState(r)},e.groupVariants=function(t,n){for(var a={unassigned:{id:"unassigned",title:"Unassigned Variants",taskIds:[]}},r=["unassigned"],o=0,l={},c=0,d=Object.entries(e.props.mapping);c<d.length;c++){var s=Object(i.a)(d[c],1)[0];if(void 0===l[n[o]]){var p="",u={id:p=0===t[o]?"Base":"Addon: $"+t[o],title:p,taskIds:[s]};a[p]=u,l[n[o]]=p,r.push(p)}else a[l[n[o]]].taskIds.push(s);o++}e.setState({columns:a,columnOrder:r})},e.generateVarient=function(t){if("onetoone"===t)e.genereteOnetoOne();else if("price"===t){var n=e.props.combineSamePrices();e.groupVariants(n[0],n[1])}else if("priceBuckets"===t){var a=e.props.generatePriceBuckets();console.log(a),e.groupVariants(a[1],a[2])}},e.genereteOnetoOne=function(){var t=e.state.columns.unassigned;if(t.taskIds.length){var n=e.state.columnOrder.slice(),a=Object(st.a)(Object(st.a)({},e.state),{},{columns:Object(st.a)({},e.state.columns)});t.taskIds.forEach((function(t){var r=e.state.tasks[t].content.split("&").map((function(e){var t=e.split("=")[1];return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()})),o={id:e.state.tasks[t].content,title:r.join(" - "),taskIds:[e.state.tasks[t].id]};n.push(o.id),a.columns[o.id]=o})),a.columns.unassigned.taskIds=[],a.columnOrder=n,e.setState(a)}},e.updateColumnName=function(t,n){var a=Object(st.a)(Object(st.a)({},e.state.columns[n]),{},{title:t}),r=Object(st.a)(Object(st.a)({},e.state),{},{columns:Object(st.a)(Object(st.a)({},e.state.columns),{},Object(Zt.a)({},n,a))});e.setState(r)},e.updateColumnOrder=function(t){var n=Object(st.a)(Object(st.a)({},e.state),{},{columnOrder:t});e.setState(n)},e.updateColumns=function(t){var n=Object(st.a)(Object(st.a)({},e.state),{},{columns:Object(st.a)(Object(st.a)({},e.state.columns),{},Object(Zt.a)({},t.id,t))});e.setState(n)},e.deleteColumn=function(t){var n=Array.from(e.state.columns[t].taskIds),a=Array.from(e.state.columnOrder);a.splice(a.indexOf(t),1),e.setState({columnOrder:a});var r=Object(st.a)({},e.state.columns),o=e.state.columns.unassigned,l=Object(st.a)(Object(st.a)({},o),{},{taskIds:o.taskIds.concat(n)});delete r[t],r.unassigned=l,e.setState({columns:r})},e}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(e,t){if(this.props.mapping!==e.mapping){for(var n={},a=[],r=0,o=Object.entries(this.props.mapping);r<o.length;r++){var l=Object(i.a)(o[r],2),c=l[0],d=l[1];n[c]={id:c,content:d.easyRead.replace(/ /g,"_")},a.push(c)}this.setState({tasks:n});var s=this.props.mapping;if(Object.keys(s).length&&void 0!==s[Object.keys(s)[0]].varient){for(var p={unassigned:{id:"unassigned",title:"Unassigned Variants",taskIds:[]}},u=["unassigned"],m=0,h=Object.entries(this.props.mapping);m<h.length;m++){var g=Object(i.a)(h[m],2),f=g[0],b=g[1],v={id:b.easyRead,title:b.varient,taskIds:[f]};p[b.easyRead]=v,u.push(b.easyRead)}this.setState({columns:p,columnOrder:u})}else{for(var E={},O=0,k=Object.entries(t.columns);O<k.length;O++){var x=Object(i.a)(k[O],2),y=x[0],C=x[1];"unassigned"===y?E.unassigned=Object(st.a)(Object(st.a)({},t.columns.unassigned),{},{taskIds:a}):E[y]=Object(st.a)(Object(st.a)({},C),{},{taskIds:[]})}this.setState({columns:E})}}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Gn,null,r.a.createElement(fn,{addColumns:this.addColumns,exportJson:this.exportJson,changeHeight:this.props.changeHeight,generateVarient:this.generateVarient})),r.a.createElement(Rn,{height:this.props.height+"px"},r.a.createElement(An,{tasks:this.state.tasks,columns:this.state.columns,columnOrder:this.state.columnOrder,updateColumns:this.updateColumns,updateLists:this.updateLists,deleteColumn:this.deleteColumn,updateColumnName:this.updateColumnName,updateColumnOrder:this.updateColumnOrder})))}}]),n}(r.a.Component),Hn=function(){function e(){Object(c.a)(this,e),this.minDistance=1e-5,this.groupDistance=.1}return Object(d.a)(e,[{key:"cluster",value:function(e,t){for(var n=e.slice(),a=1,r=n.length,o=new Array(e.length).fill(!0);a>this.minDistance;){a=0;for(var l=0;l<r;l++)if(!1!==o[l]){var i=n[l],c=i;i=this._shift_points(i,e,t);var d=Math.abs(i-c);a=Math.max(a,d),d<this.minDistance&&(o[l]=!1),n[l]=i}}return[e,n,this._pointGrouper(n)]}},{key:"_shift_points",value:function(e,t,n){var a=this,r=0,o=0;return t.forEach((function(t){var l=Math.abs(e-t),i=a._gaussian_kernel(l,n);r+=t*i,o+=i})),r/=o}},{key:"_gaussian_kernel",value:function(e,t){return 1/(t*Math.sqrt(2*Math.PI))*Math.exp(-.5*Math.pow(e/t,2))}},{key:"_pointGrouper",value:function(e){var t=this,n=[],a=[],r=0;return e.forEach((function(e){var o=t._findNearestGroup(e,a);void 0===o?(a.push([e]),n.push(r),r++):(n.push(o),a[o].push(e))})),n}},{key:"_findNearestGroup",value:function(e,t){var n=this,a=void 0,r=0;return t.forEach((function(t){var o=Number.MAX_VALUE;t.forEach((function(t){o=Math.min(o,Math.abs(t-e))})),o<n.groupDistance&&(a=r),r++})),a}}]),e}(),Bn=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).counter={cb:0,dd:0,cp:0,sc:0,md:0},e.state={height:window.innerHeight-70,mapping:{},stl:{},models:[],numVarients:0,options:[]},e.determineNumberofVarients=function(e){return e.reduce((function(e,t){return t.priceDiff?"colorpicker"===t.type?3*e:"dropdown"===t.type?e*(0===t.items.length?1:t.items.length):"checkbox"===t.type?2*e:(console.log("Type not implemented for Counting"),e):"section"===t.type?t.multiSelect&&t.hasCostTier?4*e*t.modelSection.modelOrder.length:t.multiSelect?2*e*t.modelSection.modelOrder.length:t.hasCostTier?3*e:e:e}),1)},e.handleAddingNewOptions=function(t){var n=bt(t,e.counter);if(n){var a=e.state.options.slice();a.push(n),e.setState({options:a,numVarients:e.determineNumberofVarients(a)})}else console.log("Option type "+t+" is not implemented for Add")},e.handleUpdateingOptions=function(t,n,a){var r=e.state.options.slice(),o=n.target,l=o.name,c=o.value,d=o.type,s=o.checked;if("number"===d)if(2===l.split(".").length){var p=l.split("."),u=Object(i.a)(p,2),m=u[0],h=u[1];r[t][m][h]=parseFloat(c)}else r[t][l]=parseFloat(c);else r[t][l]="checkbox"===d?s:c;console.log(r),e.setState({options:r,numVarients:e.determineNumberofVarients(r)})},e.handleUpdatingTagOrder=function(t,n){var a=e.state.options.slice();a[t].items=n,e.setState({options:a,numVarients:e.determineNumberofVarients(a)})},e.handleClickDeleteTag=function(t,n){var a=e.state.options.slice(),r=a[t].items.filter((function(e){return n.id!==e.id}));a[t].items=r,e.setState({options:a,numVarients:e.determineNumberofVarients(a)})},e.handleClickAddTag=function(t,n){var a=e.state.options.slice();if("colorpicker"===a[t].type||"section"===a[t].type)a[t].items.push({id:n.tagId,name:n.tagName});else if(n.tagName.includes("$")){var r=n.tagName.split("$");a[t].items.push({id:a[t].id+"t"+n.tagId,name:r[0],price:parseFloat(r[1])})}else a[t].items.push({id:a[t].id+"t"+n.tagId,name:n.tagName});e.setState({options:a,numVarients:e.determineNumberofVarients(a)})},e.handleClickDeleteOption=function(t){var n=e.state.options.slice().filter((function(e){return t.id!==e.id}));e.setState({options:n,numVarients:e.determineNumberofVarients(n)})},e.handleUpdatingOptionOrder=function(t){t.sort((function(e,t){return e.y-t.y}));var n=t.map((function(e){return e.i})),a=e.state.options.slice().sort((function(e,t){var a=e.id,r=t.id;return n.indexOf(a)-n.indexOf(r)}));e.setState({options:a,numVarients:e.determineNumberofVarients(a)})},e.handleClickDuplicateOption=function(t){var n=JSON.parse(JSON.stringify(t));if("checkbox"===n.type)n.id="cb"+e.counter.cb++;else if("dropdown"===n.type)n.id="dd"+e.counter.dd++;else if("colorpicker"===n.type)n.id="cp"+e.counter.cp++;else if("section"===n.type){n.id="sc"+e.counter.sc++;var a=[];n.modelSection.modelOrder.forEach((function(t){var r="md"+e.counter.md++;n.modelSection.models[t].id=r,n.modelSection.models[r]=n.modelSection.models[t],delete n.modelSection.models[t],a.push(r)})),n.modelSection.modelOrder=a,console.log(n)}else{if("stl"===n.type)return void console.log("Can't duplicate this version.");console.log("Duplicate is not implement for this type")}var r=e.state.options.slice();r.push(n),e.setState({options:r})},e.handleSetPrice=function(){for(var t=0;t<e.state.options.length;t++){var n=e.state.options[t];if(""===n.selected||""===n.colorId)return void alert("Option "+(n.name?n.name:n.section)+" does not have default selected.")}var a=gt(e.state.options);if(Object.keys(a).length===Object.keys(e.state.mapping).length){for(var r=!0,o=0,l=Object.entries(e.state.mapping);o<l.length;o++){var c=Object(i.a)(l[o],1)[0];if(!1===a.hasOwnProperty(c)){r=!1;break}}if(r)return}e.setState({mapping:a}),e.setState({height:window.innerHeight/2})},e.exportJson=function(t){ft(e.state,t)},e.importJson=function(t){var n=mt(t,e.counter);e.setState({options:n.options,mapping:n.mapping})},e.changeHeight=function(t){"up"===t?e.setState({height:50}):e.setState({height:window.innerHeight-70})},e.updateHeight=function(t){e.setState({height:t})},e.reorderModels=function(t,n){var a=n.destination,r=n.source,o=n.draggableId;if(a&&(a.droppableId!==r.drop||a.index!==r.index)){var l=e.state.options.slice(),i=Array.from(l[t].modelSection.modelOrder);i.splice(r.index,1),i.splice(a.index,0,o),l[t].modelSection.modelOrder=i,e.setState({options:l})}},e.handleClickAddModel=function(t,n){var a=e.state.options.slice(),r="md"+e.counter.md++;a[t].modelSection.models[r]={id:r,name:"",filename:"",show:!0,price:{Stand:1,Prem:2,UltPrem:3},colorId:"",inGroup:!1,selected:!1,group:""},a[t].modelSection.modelOrder.push(r),e.setState({options:a,numVarients:e.determineNumberofVarients(a)})},e.handleDeleteModel=function(t,n){var a=e.state.options.slice();delete a[t].modelSection.models[n];var r=a[t].modelSection.modelOrder;r.splice(r.indexOf(n),1),a[t].modelSection.modelOrder=r,e.setState({options:a,numVarients:e.determineNumberofVarients(a)})},e.handleUpdatingModel=function(t,n,a){var r=e.state.options.slice(),o=a.target,l=o.name,c=o.value,d=o.type,s=o.checked;if(console.log(l),"number"===d)if(2===l.split(".").length){var p=l.split("."),u=Object(i.a)(p,2),m=u[0],h=u[1];r[t].modelSection.models[n][m][h]=parseFloat(c)}else r[t].modelSection.models[n][l]=parseFloat(c);else r[t].modelSection.models[n][l]="checkbox"===d?s:c;console.log(r[t].modelSection.models[n]),e.setState({options:r,numVarients:e.determineNumberofVarients(r)})},e.handleClickDupModel=function(t,n){var a=JSON.parse(JSON.stringify(n)),r="md"+e.counter.md++;a.id=r;var o=e.state.options.slice();o[t].modelSection.models[r]=a,o[t].modelSection.modelOrder.push(r),e.setState({options:o,numVarients:e.determineNumberofVarients(o)})},e.calculatePriceofVariant=function(e,t){for(var n=[],a=0,r=Object.entries(e);a<r.length;a++){var o=Object(i.a)(r[a],2),l=(o[0],o[1].id.split("&").reduce((function(e,n){var a=n.split("="),r=Object(i.a)(a,2),o=r[0],l=r[1];if("checkbox"===t[o].type)return"true"===l?e+t[o].price:e;if("dropdown"===t[o].type){for(var c=0;c<t[o].items.length;c++)if(t[o].items[c].id===l)return e+t[o].items[c].price;return e}return"section"===t[o].type?"Stand"===l?e:e+t[o].costTier[l]:"false"===l||"Stand"===l&&"colorpicker"===t[o].type?e:e+t[o].price[l]}),0));n.push(l)}return n},e.generatePriceBuckets=function(){if(0!==Object.entries(e.state.mapping).length){var t=e.mapOptionstoId(e.state.options),n=e.calculatePriceofVariant(e.state.mapping,t);return(new Hn).cluster(n,.5)}},e.combineSamePrices=function(){if(0!==Object.entries(e.state.mapping).length){var t=e.mapOptionstoId(e.state.options),n=e.calculatePriceofVariant(e.state.mapping,t);return[n,(new Hn)._pointGrouper(n)]}},e}return Object(d.a)(n,[{key:"mapOptionstoId",value:function(e){var t={};return e.forEach((function(e){t[e.id]=e,"section"===e.type&&e.modelSection.modelOrder.forEach((function(n){var a=e.modelSection.models[n];t[a.id]=a}))})),t}},{key:"render",value:function(){var e=window.innerHeight-this.state.height-70,t=window.innerWidth-505;return r.a.createElement(ot,null,r.a.createElement(lt,null,r.a.createElement(Ze,{data:this.state,handleAdd:this.handleAddingNewOptions,handleUpdate:this.handleUpdateingOptions,handleUpdatingTagOrder:this.handleUpdatingTagOrder,handleClickDeleteTag:this.handleClickDeleteTag,handleClickAddTag:this.handleClickAddTag,handleClickDeleteOption:this.handleClickDeleteOption,handleUpdatingOptionOrder:this.handleUpdatingOptionOrder,handleClickDuplicateOption:this.handleClickDuplicateOption,handleSetPrice:this.handleSetPrice,importJson:this.importJson,reorderModels:this.reorderModels,handleClickAddModel:this.handleClickAddModel,handleDeleteModel:this.handleDeleteModel,handleUpdatingModel:this.handleUpdatingModel,handleClickDupModel:this.handleClickDupModel})),r.a.createElement(it,null,r.a.createElement(ct,null,r.a.createElement(et.a,{split:"horizontal",style:{position:"relative"},paneStyle:{overflow:"auto",display:"inline",width:t},size:this.state.height,onDragFinished:this.updateHeight},r.a.createElement(Qt,{data:this.state}),r.a.createElement(Fn,{mapping:this.state.mapping,exportJson:this.exportJson,changeHeight:this.changeHeight,generatePriceBuckets:this.generatePriceBuckets,combineSamePrices:this.combineSamePrices,height:e})))))}}]),n}(r.a.Component);var Jn=function(){return r.a.createElement(Bn,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(140),n(141),n(142);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Jn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e){e.exports=JSON.parse('{"filament":[{"id":"atm-neongreen","color":"#53F04D","name":"Atomic Trans Neon Green","tier":"Standard","src":"atomic-transneongreen.jpg","zoom":"atomic-transneongreen-zoom.png","opacity":0.95},{"id":"hb-black","color":"#252724","name":"HatchBox Black","tier":"Standard","src":"hatchbox-black.jpg","zoom":"hatchbox-black-zoom.png","opacity":1},{"id":"hb-blue","color":"#011CAE","name":"HatchBox Blue","tier":"Standard","src":"hatchbox-blue.jpg","zoom":"hatchbox-blue-zoom.png","opacity":1},{"id":"hb-gold","color":"#E8A932","name":"HatchBox Gold","tier":"Standard","src":"hatchbox-gold.jpg","zoom":"hatchbox-gold-zoom.png","opacity":1},{"id":"hb-green","color":"#0FC069","name":"HatchBox Green","tier":"Standard","src":"hatchbox-green.jpg","zoom":"hatchbox-green-zoom.png","opacity":1},{"id":"hb-orange","color":"#FF7320","name":"HatchBox Orange","tier":"Standard","src":"hatchbox-orange.jpg","zoom":"hatchbox-orange-zoom.png","opacity":1},{"id":"hb-pink","color":"#FF7478","name":"HatchBox Pink","tier":"Standard","src":"hatchbox-pink.jpg","zoom":"hatchbox-pink-zoom.png","opacity":1},{"id":"hb-red","color":"#EF1021","name":"HatchBox Red","tier":"Standard","src":"hatchbox-red.jpg","zoom":"hatchbox-red-zoom.png","opacity":1},{"id":"hb-silver","color":"#B5B7B1","name":"HatchBox Silver","tier":"Standard","src":"hatchbox-silver.jpg","zoom":"hatchbox-silver-zoom.png","opacity":1},{"id":"hb-white","color":"#E6E5DE","name":"HatchBox White","tier":"Standard","src":"hatchbox-white.jpg","zoom":"hatchbox-white-zoom.png","opacity":1},{"id":"hb-yellow","color":"#FDE506","name":"HatchBox Yellow","tier":"Standard","src":"hatchbox-yellow.jpg","zoom":"hatchbox-yellow-zoom.png","opacity":1},{"id":"php-oceanblue","color":"#3BADD3","name":"Push Ocean Blue","tier":"Standard","src":"push-oceanblue.jpg","zoom":"push-oceanblue-zoom.png","opacity":1},{"id":"pru-azureblue","color":"#008CD6","name":"Prusa Azure Blue","tier":"Premium","src":"prusa-azureblue.jpg","zoom":"prusa-azureblue-zoom.png","opacity":1},{"id":"pru-galaxyblack","color":"#4F4C46","name":"Prusa Galaxy Black","tier":"Premium","src":"prusa-galaxyblack.jpg","zoom":"prusa-galaxyblack-zoom.png","opacity":1},{"id":"pru-galaxysilver","color":"#B8B8B5","name":"Prusa Galaxy Silver","tier":"Premium","src":"prusa-galaxysilver.jpg","zoom":"prusa-galaxysilver-zoom.png","opacity":1},{"id":"pru-galaxypurple","color":"#412B7C","name":"Prusa Galaxy Purple","tier":"Premium","src":"prusa-galaxypurple.jpg","zoom":"prusa-galaxyspurple-zoom.png","opacity":1},{"id":"pru-gentlemengrey","color":"#2D4C4D","name":"Prusa Gentlemen Grey","tier":"Premium","src":"prusa-gentlemensgrey.jpg","zoom":"prusa-gentlemansgrey-zoom.png","opacity":1},{"id":"pru-opalgreen","color":"#085C4E","name":"Prusa Opal Green","tier":"Premium","src":"prusa-opalgreen.jpg","zoom":"prusa-opalgreen-zoom.png","opacity":1},{"id":"ptp-protonpurple","color":"#964861","name":"ProtoPasta Proton Purple","tier":"Ultra Premium","src":"protopasta-protonpurple.jpg","zoom":"protopasta-protonpurple-zoom.png","opacity":1}]}')},64:function(e,t,n){e.exports=n.p+"static/media/delete.3df96e6b.png"}},[[101,1,2]]]);
//# sourceMappingURL=main.b88edca6.chunk.js.map