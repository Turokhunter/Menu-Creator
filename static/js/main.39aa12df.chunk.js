(this["webpackJsonpMenu-Creator"]=this["webpackJsonpMenu-Creator"]||[]).push([[0],{101:function(e,t,n){e.exports=n(143)},106:function(e,t,n){},124:function(e,t,n){},139:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(17),l=n.n(o),i=(n(106),n(16)),c=n(11),d=n(12),p=n(14),s=n(13),u=n(91),m=n(153),h=n(154),g=n(100),f=n(5),b=n(6),v=n(148);function E(){var e=Object(f.a)(["\n  display: inline-block;\n  position: relative;\n"]);return E=function(){return e},e}var O=Object(b.a)(v.a)(E());function y(e){var t=e.importJson,n=r.a.useState(!1),a=Object(i.a)(n,2),o=a[0],l=a[1],c=r.a.useState(""),d=Object(i.a)(c,2),p=d[0],s=d[1],g=function(){return l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"primary",onClick:function(){return l(!0)}},"Import"),r.a.createElement(m.a,{show:o,onHide:g,backdrop:"static",keyboard:!1},r.a.createElement(m.a.Header,{closeButton:!0},r.a.createElement(m.a.Title,null,"Import Existing JSON")),r.a.createElement(m.a.Body,null,r.a.createElement(h.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(h.a.Label,null,"Paste JSON:"),r.a.createElement(h.a.Control,{as:"textarea",rows:"3",value:p,onChange:function(e){return s(e.target.value)}}))),r.a.createElement(m.a.Footer,null,r.a.createElement(u.a,{variant:"secondary",onClick:g},"Close"),r.a.createElement(u.a,{variant:"primary",onClick:function(e){t(p),g()}},"Import"))))}var k=function(e){var t=e.handleAdd,n=e.importJson;return r.a.createElement(r.a.Fragment,null,"Opt:"," ",r.a.createElement(u.a,{variant:"outline-primary",value:"checkbox",onClick:function(e){return t(e.target.value)}},"Checkbox")," ",r.a.createElement(u.a,{variant:"outline-primary",value:"dropdown",onClick:function(e){return t(e.target.value)}},"Dropdown")," ",r.a.createElement(u.a,{variant:"outline-primary",value:"colorpicker",onClick:function(e){return t(e.target.value)}},"Color Picker")," ",r.a.createElement(O,{title:"STL",onSelect:function(e){return t(e)},variant:"outline-primary"},r.a.createElement(g.a.Item,{eventKey:"stl"},"STL Setup"),r.a.createElement(g.a.Item,{eventKey:"section"},"Section"),r.a.createElement(g.a.Item,{eventKey:"preset"},"Preset"))," ",r.a.createElement(y,{importJson:n}))},x=n(94),j=n.n(x),C=(n(124),n(93)),S=n(149),w=n(155),U=n(150),P=function(e){var t=e.propValue,n=e.propName,a=e.label,o=e.type,l=e.placeholder,i=e.handleUpdate,c=e.toolTip;return r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(w.a,{placement:"top",delay:{show:250,hide:200},overlay:r.a.createElement(U.a,{id:"button-tooltip"},c)},r.a.createElement(S.a.Text,{id:n+"Label"},a))),r.a.createElement(h.a.Control,{value:t,name:n,type:o,placeholder:void 0===l?t:l,onChange:i}))},T=function(e){var t=e.propValue,n=e.propName,a=e.label,o=e.handleUpdate,l=e.toolTip,i=e.disabled;return r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(w.a,{placement:"top",delay:{show:250,hide:200},overlay:r.a.createElement(U.a,{id:"button-tooltip"},l)},r.a.createElement(S.a.Text,{id:n+"Label"},a))),r.a.createElement(S.a.Checkbox,{name:n,"aria-label":"option 1",checked:t,onChange:o,disabled:i}))},D=function(e){var t=e.option,n=e.handleUpdate;return r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(P,{propName:"name",propValue:t.name,label:"Name",placeholder:"Name",handleUpdate:n,type:"text",toolTip:"Name of the option"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(T,{propName:"priceDiff",propValue:t.priceDiff,label:"Price Difference",handleUpdate:n,toolTip:"Choose if changing the option affect price."})),"checkbox"===t.type&&r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(P,{propName:"price",propValue:t.price,label:"Addon cost:",handleUpdate:n,type:"Number",toolTip:"only set if using auto populate variant"}))))},I=n(151);function N(){var e=Object(f.a)(["\n  display: inline-block;\n  position: relative;\n"]);return N=function(){return e},e}function M(){var e=Object(f.a)(["\n    ","\n"]);return M=function(){return e},e}function A(){var e=Object(f.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    margin-right: -5px;\n    margin-left: -5px;\n    margin-bottom: -10px;\n"]);return A=function(){return e},e}function z(){var e=Object(f.a)(["\n  width: 20px;\n  height: 20px;\n"]);return z=function(){return e},e}function V(){var e=Object(f.a)(["\n    position: absolute;\n    top: -1px;\n    right: -1px;\n    width: 16px;\n    height: 16px;\n    cursor: pointer;\n    user-drag: none;\n    user-select: none;\n    -moz-user-select: none;\n    -webkit-user-drag: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n"]);return V=function(){return e},e}function G(){var e=Object(f.a)(["\n  border-color : black;\n  padding: 8px 20px 0px 8px;\n"]);return G=function(){return e},e}function F(){var e=Object(f.a)(["\n    position: relative;\n    margin: 3px;\n    font-size: 13px;\n    border: 1px dashed #3b9de9;\n    border-radius: 4px;\n    padding: 0 8px;\n    line-height: 30px;\n    color: #666666;\n    background: rgba(255, 255, 255, 0.7);\n"]);return F=function(){return e},e}function R(){var e=Object(f.a)(["\n    border-bottom: 2px solid;\n    border-color: gray;\n    background: #5583d8;\n    color: white;\n    padding-left: 10px;\n    border-radius: 6px 6px 0px 0px;\n"]);return R=function(){return e},e}function H(){var e=Object(f.a)(["\n  background-color: transparent;\n  border: 0px;\n"]);return H=function(){return e},e}function B(){var e=Object(f.a)(["\n  padding-top: 6px;\n"]);return B=function(){return e},e}function J(){var e=Object(f.a)(["\n  padding-left : 30px;\n"]);return J=function(){return e},e}function L(){var e=Object(f.a)(["\n  padding-top: 6px;\n"]);return L=function(){return e},e}function _(){var e=Object(f.a)(["\n    border: 1px solid #E9E9E9;\n    border-radius: 4px;\n    height: 140px;\n    padding: 5px;\n"]);return _=function(){return e},e}var K=b.a.div(_()),W=b.a.h5(L()),$=b.a.label(J()),q=b.a.div(B()),X=Object(b.a)(u.a)(H()),Y=b.a.div(R()),Q=b.a.div(F()),Z=Object(b.a)(Q)(G()),ee=b.a.img(V()),te=Object(b.a)(ee)(z()),ne=Object(b.a)(I.a)(A()),ae=b.a.div(M(),(function(e){return!0===e.show?"display : block;":"display : none;"})),re=Object(b.a)(v.a)(N()),oe=n(31),le=n(43),ie=function(e){var t=e.option,n=e.handleClickDeleteOption,a=e.handleClickDuplicateOption,o=t.type.charAt(0).toUpperCase()+t.type.slice(1);return r.a.createElement(Y,null,r.a.createElement(I.a,null,r.a.createElement(C.a,{xs:9},r.a.createElement("div",{className:"MyDragHandleClassName"},r.a.createElement(W,null,o,":",t.id))),r.a.createElement(C.a,null,"  ",r.a.createElement(X,{variant:"light",onClick:function(e){return a(t)}},r.a.createElement(le.a,null))," ",r.a.createElement(X,{variant:"light",onClick:function(e){return n(t)}},r.a.createElement(oe.a,null)))))},ce=function(e){var t=e.option,n=e.handleUpdate;return r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(T,{propName:"selected",propValue:t.selected,label:"Checked",handleUpdate:n,toolTip:"Is it checked or unchecked by default."}))))},de=n(92),pe=n(44),se=n.n(pe),ue=n(65),me=function(e){Object(p.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).setTagText=function(e){a.tagName=e},a.setTagPrice=function(e){a.price=e},a.handleClickAddTag=function(){""!==a.tagName.value&&(""===a.price.value&&(a.price.value=0),a.props.handleClickAddTag({tagId:a.tagId,tagName:a.tagName.value,price:a.price.value}),a.tagId+=1,a.tagName.value="",a.price.value="")},a.handleEnterAddTag=function(e){"Enter"===e.key&&""!==a.tagName.value&&(a.handleClickAddTag(),e.preventDefault())},a.tagName="",a.price="0",a.tagId=0,0!==e.option.items.length&&(a.tagId=e.option.items.reduce((function(e,t){var n,a;if("number"===typeof e)n=e;else{var r=e.id.split("t");n=parseInt(r[r.length-1])}if("number"===typeof t)a=t;else{var o=t.id.split("t");a=parseInt(o[o.length-1])}return Math.max(n,a)}))+1),a}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a,md:"8"},r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,null,"Selected:")),r.a.createElement(h.a.Control,{as:"select",name:"selected",onChange:this.props.handleUpdate,value:this.props.option.selected},r.a.createElement("option",{key:"-1",value:"-1"}," "),this.props.option.items.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))))),r.a.createElement(S.a,null,r.a.createElement(de.a,{style:{width:"60%"},placeholder:"Tag",onKeyDown:this.handleEnterAddTag,ref:this.setTagText}),r.a.createElement(de.a,{placeholder:"Price",onKeyDown:this.handleEnterAddTag,ref:this.setTagPrice}),r.a.createElement(S.a.Append,null,r.a.createElement(u.a,{onClick:this.handleClickAddTag,variant:"info"},"Add"))),r.a.createElement(K,null,r.a.createElement(ue.DraggableArea,{tags:this.props.option.items,render:function(t){var n=t.tag;t.index;return r.a.createElement(Q,null,r.a.createElement(ee,{src:se.a,onClick:function(){return e.props.handleClickDeleteTag(n)}}),r.a.createElement("b",null,void 0!==n.price&&"$"+n.price)," ",n.name)},onChange:function(t){return e.props.handleUpdatingTagOrder(t)}})))}}]),n}(r.a.Component),he=n(95),ge=function(e,t){return"exclude"===e.colorInclusion?t.filter((function(t){var n,a=Object(he.a)(e.items);try{for(a.s();!(n=a.n()).done;){if(n.value.id===t.id)return!1}}catch(r){a.e(r)}finally{a.f()}return!0})):"include"===e.colorInclusion?t.filter((function(t){return e.items.some((function(e){return t.id===e.id}))})):t},fe=n(27),be=n(96),ve=n.n(be),Ee=function(e){return e.name},Oe=function(e){return r.a.createElement("div",null,e.name)};var ye=function(e){Object(p.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getSuggestions=function(e){var t=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===t)return[];var n=new RegExp(t,"i");return a.state.filament.filter((function(e){return-1!==e.name.search(n)}))},a.onSuggestionsFetchRequested=function(e){var t=e.value;a.setState({suggestions:a.getSuggestions(t)})},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.onSuggestionSelected=function(e,t){var n=t.suggestionValue,r=a.state.filament.filter((function(e){return e.name===n}));0!==r.length&&(0===a.props.option.items.filter((function(e){return e.name===r[0].name})).length&&(a.props.handleClickAddTag({tagId:r[0].id,tagName:r[0].name}),a.setState({choices:ge(a.props.option,a.state.filament)})),a.setState({color:""}))},a.setColor=function(e,t){var n=t.newValue;t.method;a.setState({color:n})},a.handleClickAddAllColor=function(){for(var e=[],t=0;t<a.state.filament.length;t++)e.push({id:a.state.filament[t].id,name:a.state.filament[t].name});a.props.handleUpdatingTagOrder(e),a.setState({choices:ge(a.props.option,a.state.filament)})},a.handleClickClearAllColor=function(){a.props.handleUpdatingTagOrder([]),a.setState({choices:ge(a.props.option,a.state.filament)})},a.state={color:"",suggestions:[],filament:fe.filament},a}return Object(d.a)(n,[{key:"updateSelectchoice",value:function(e,t){return ge(e,t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.color,a=t.suggestions,o={placeholder:"Color",value:n,onChange:this.setColor,disabled:"all"===this.props.option.colorInclusion},l={container:"autosuggest",input:"form-control",suggestionsContainer:"dropdown",suggestionsList:"dropdown-menu ".concat(a.length?"show":""),suggestion:"dropdown-item",suggestionHighlighted:"active"},i=this.updateSelectchoice(this.props.option,this.state.filament),c="all"!==this.props.option.colorInclusion;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a,md:"8"},r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,null,"Selected:")),r.a.createElement(h.a.Control,{as:"select",name:"colorId",onChange:this.props.handleUpdate,value:this.props.option.colorId},r.a.createElement("option",{key:"-1",value:"-1"}," "),i.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,null,"Color Inclusion:")),r.a.createElement(q,null,r.a.createElement($,{className:"radio-inline"},r.a.createElement("input",{type:"radio",name:"colorInclusion",value:"all",checked:"all"===this.props.option.colorInclusion,onChange:this.props.handleUpdate,className:"form-check-input"}),"All"),r.a.createElement($,{className:"radio-inline"},r.a.createElement("input",{type:"radio",name:"colorInclusion",value:"include",className:"form-check-input",checked:"include"===this.props.option.colorInclusion,onChange:this.props.handleUpdate}),"Include"),r.a.createElement($,{className:"radio-inline"},r.a.createElement("input",{type:"radio",name:"colorInclusion",value:"exclude",className:"form-check-input",checked:"exclude"===this.props.option.colorInclusion,onChange:this.props.handleUpdate}),"Exclude")))))),r.a.createElement(ae,{show:c},r.a.createElement(S.a,null,r.a.createElement(ve.a,{suggestions:a,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:Ee,renderSuggestion:Oe,inputProps:o,theme:l}),r.a.createElement(S.a.Append,null,r.a.createElement(u.a,{onClick:this.handleClickAddAllColor,variant:"info",disabled:"all"===this.props.option.colorInclusion},"Add All")),r.a.createElement(S.a.Append,null,r.a.createElement(u.a,{onClick:this.handleClickClearAllColor,variant:"info",disabled:"all"===this.props.option.colorInclusion},"Clear All"))),r.a.createElement(K,null,r.a.createElement(ue.DraggableArea,{tags:this.props.option.items,render:function(t){var n=t.tag;t.index;return r.a.createElement(Q,null,r.a.createElement(ee,{src:se.a,onClick:function(){return e.props.handleClickDeleteTag(n)}}),n.name)},onChange:function(t){return e.props.handleUpdatingTagOrder(t)}}))))}}]),n}(r.a.Component),ke=function(e){var t=e.option,n=e.handleUpdate,a=e.handleUpdatingTagOrder,o=e.handleClickDeleteTag,l=e.handleClickAddTag;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(P,{propName:"price.Prem",propValue:t.price.Prem,label:"Prem:",handleUpdate:n,type:"Number",toolTip:"only set if using auto populate variant"})),r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(P,{propName:"price.UltPrem",propValue:t.price.UltPrem,label:"UltPrem:",handleUpdate:n,type:"Number",toolTip:"only set if using auto populate variant"}))),r.a.createElement(ye,{option:t,handleUpdate:n,handleUpdatingTagOrder:a,handleClickDeleteTag:o,handleClickAddTag:l})))},xe=function(e){var t=e.option,n=e.handleUpdate,a=e.propertyName,o=e.parameterList,l=a.charAt(0).toUpperCase()+a.slice(1);return r.a.createElement(h.a.Row,null,o.map((function(e,o){return r.a.createElement(C.a,{key:o,sm:0===o?5:void 0},r.a.createElement(h.a.Group,null,r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,null,0===o&&l," ",e,":")),r.a.createElement(h.a.Control,{value:t[a][e],name:a+"."+e,type:"number",onChange:n}))))})))},je=function(e){var t=e.option,n=e.handleUpdate,a=["x","y","z"];return r.a.createElement(h.a,null,r.a.createElement(xe,{option:t,handleUpdate:n,propertyName:"camera",parameterList:a}),r.a.createElement(xe,{option:t,handleUpdate:n,propertyName:"position",parameterList:a}),r.a.createElement(xe,{option:t,handleUpdate:n,propertyName:"scale",parameterList:a}),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(P,{propName:"mindist",propValue:t.mindist,label:"Min Dist",placeholder:"",handleUpdate:n,type:"Number",toolTip:"Closet the user can zoom"})),r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(P,{propName:"maxdist",propValue:t.maxdist,label:"Max Dist",placeholder:"",handleUpdate:n,type:"Number",toolTip:"Farthest the user can zoom"}))))};function Ce(){var e=Object(f.a)(["\n  padding: 2px; \n"]);return Ce=function(){return e},e}function Se(){var e=Object(f.a)(["\n    border-bottom: 2px solid;\n    border-color: gray;\n    background: #516892;\n    color: white;\n    padding-left: 10px;\n    border-radius: 5px 5px 0px 0px;\n"]);return Se=function(){return e},e}function we(){var e=Object(f.a)(["\n  background-color: transparent;\n  border: 0px;\n"]);return we=function(){return e},e}function Ue(){var e=Object(f.a)(["\n  padding-top: 3px;\n"]);return Ue=function(){return e},e}function Pe(){var e=Object(f.a)(["\n  padding: 1px;\n  transition: background-color 0.2s ease;\n  background-color: ","\n"]);return Pe=function(){return e},e}function Te(){var e=Object(f.a)(["\n  border:1px solid lightgray;\n  border-radius: 8px;\n  margin-bottom: 4px;\n  background-color:white;\n  height: 250px;\n"]);return Te=function(){return e},e}function De(){var e=Object(f.a)(["\n  border:1px solid lightgray;\n  border-radius: 8px;\n  margin-bottom: 4px;\n  background-color:white;\n"]);return De=function(){return e},e}var Ie=b.a.div(De()),Ne=b.a.div(Te()),Me=b.a.div(Pe(),(function(e){return e.isDraggingOver?"skyblue":"white"})),Ae=b.a.h5(Ue()),ze=Object(b.a)(u.a)(we()),Ve=b.a.div(Se()),Ge=Object(b.a)(h.a)(Ce()),Fe=n(21),Re=function(e){var t=e.propValue,n=e.propName,a=e.label,o=e.handleUpdate,l=e.toolTip;return r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(w.a,{placement:"top",delay:{show:250,hide:200},overlay:r.a.createElement(U.a,{id:"button-tooltip"},l)},r.a.createElement(S.a.Text,{style:{backgroundColor:"#bfdcd1"},id:n+"Label"},a))),r.a.createElement(S.a.Checkbox,{name:n,"aria-label":"option 1",checked:t,onChange:o}))},He=function(e){Object(p.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.model,n=[["Stand","Stand"],["Prem","Prem"],["UltPrem","UltP"]];return r.a.createElement(Fe.b,{draggableId:t.id,index:this.props.index},(function(a){return r.a.createElement(Ie,Object.assign({},a.draggableProps,a.dragHandleProps,{ref:a.innerRef}),r.a.createElement(Ve,null,r.a.createElement(I.a,null,r.a.createElement(C.a,{xs:9},r.a.createElement(Ae,null,"Model:",t.id)),r.a.createElement(C.a,null," ",r.a.createElement(ze,{variant:"light",onClick:function(n){return e.props.handleClickDupModel(t)}},r.a.createElement(le.a,null))," ",r.a.createElement(ze,{variant:"light",onClick:function(n){return e.props.handleDeleteModel(t.id)}},r.a.createElement(oe.a,null))))),r.a.createElement(Ge,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(P,{propName:"name",propValue:t.name,label:"Name:",placeholder:"Name",handleUpdate:e.props.handleUpdatingModel,type:"text",toolTip:"Name of the Model"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(P,{propName:"filename",propValue:t.filename,label:"Filename:",placeholder:"Name of the STL",handleUpdate:e.props.handleUpdatingModel,type:"text",toolTip:"Name of the Model"}))),r.a.createElement(h.a.Row,null,n.map((function(n,a){return r.a.createElement(C.a,{key:a},r.a.createElement(h.a.Group,null,r.a.createElement(P,{propName:"price."+n[0],propValue:t.price[n[0]],label:n[1]+":",handleUpdate:e.props.handleUpdatingModel,type:"Number",toolTip:"Price setting for "+n[0]})))}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(T,{propName:"show",propValue:t.show,label:"Show:",handleUpdate:e.props.handleUpdatingModel,toolTip:"Should the model be shown"})),r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(Re,{propName:"inGroup",propValue:t.inGroup,label:"Group:",handleUpdate:e.props.handleUpdatingModel,toolTip:"Is this model part of Group. Group allow the user to                 choose between a set of models. If Multiselect is on, they can                 add all models with same group."})),r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(Re,{propName:"selected",propValue:t.selected,label:"Selected:",handleUpdate:e.props.handleUpdatingModel,toolTip:"Is this model selected at the start. Note:                 If mutlselect is not on, only one model should be select per group."}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(S.a,null,r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,{style:{backgroundColor:"#bfdcd1"},id:"group"},"Group Name:")),r.a.createElement(h.a.Control,{value:t.group,name:"group",type:"text",placeholder:"Groups model by name",onChange:e.props.handleUpdatingModel,disabled:!t.inGroup}))))))}))}}]),n}(r.a.Component),Be=function(e){Object(p.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.option.modelSection.modelOrder,n=this.props.option.modelSection;return r.a.createElement(Fe.a,{onDragEnd:this.props.reorderModels},r.a.createElement(Fe.c,{droppableId:this.props.option.id,renderClone:function(e,n,a){return r.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),r.a.createElement(Ne,null,r.a.createElement(Ve,null,r.a.createElement(I.a,null,r.a.createElement(C.a,{xs:9},r.a.createElement(Ae,null,"Model:",t[a.source.index])),r.a.createElement(C.a,null," ",r.a.createElement(ze,{variant:"light"},r.a.createElement(le.a,null))," ",r.a.createElement(ze,{variant:"light"},r.a.createElement(oe.a,null))))),r.a.createElement(Ge,null)))}},(function(a,o){return r.a.createElement(Me,Object.assign({ref:a.innerRef},a.droppableProps,{isDraggingOver:o.isDraggingOver}),t.map((function(t,a){return r.a.createElement(He,{key:t,index:a,model:n.models[t],handleUpdatingModel:function(n){return e.props.handleUpdatingModel(t,n)},handleClickDupModel:e.props.handleClickDupModel,handleDeleteModel:e.props.handleDeleteModel})})),a.placeholder)})))}}]),n}(r.a.Component),Je=function(e){Object(p.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(P,{propName:"section",propValue:this.props.option.section,label:"Section",placeholder:"Section Name",handleUpdate:this.props.handleUpdate,type:"text",toolTip:"Name of the option"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(T,{propName:"hasCostTier",propValue:this.props.option.hasCostTier,label:"Has Cost Tier",handleUpdate:this.props.handleUpdate,toolTip:"Choose if changing the option affect price."})),r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(T,{propName:"multiSelect",propValue:this.props.option.multiSelect,label:"MultiSelect",handleUpdate:this.props.handleUpdate,toolTip:"Set true if more then one option can be selected.                 Note: Every model has to belong to the same group"}))),r.a.createElement(h.a.Row,null,["Stand","Prem","UltPrem"].map((function(t,n){return r.a.createElement(C.a,{key:n},r.a.createElement(h.a.Group,null,r.a.createElement(P,{propName:"costTier."+t,propValue:e.props.option.costTier[t],label:t+":",handleUpdate:e.props.handleUpdate,type:"Number",toolTip:"Visual show price for "+t})))})))),r.a.createElement(ye,{option:this.props.option,handleUpdate:this.props.handleUpdate,handleUpdatingTagOrder:this.props.handleUpdatingTagOrder,handleClickDeleteTag:this.props.handleClickDeleteTag,handleClickAddTag:this.props.handleClickAddTag}),r.a.createElement(u.a,{variant:"info",onClick:this.props.handleClickAddModel}," Add Model"),r.a.createElement(Be,{option:this.props.option,handleUpdatingModel:this.props.handleUpdatingModel,reorderModels:this.props.reorderModels,handleClickDupModel:this.props.handleClickDupModel,handleDeleteModel:this.props.handleDeleteModel}))}}]),n}(r.a.Component),Le=function(e){var t=e.option,n=e.selection,a=e.handleUpdate;if("checkbox"===n.type)return r.a.createElement(h.a.Group,{as:C.a,md:"6"},r.a.createElement(S.a,{size:"sm"},r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,{id:n.id+"Label"},"Set")),r.a.createElement(S.a.Checkbox,{"aria-label":"option 1",checked:n.selected,onChange:function(e){return a(n.id,n.type,e.target.checked)}})));if("selector"===n.type)return r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(S.a,{size:"sm"},r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,null,"Selected:")),r.a.createElement(h.a.Control,{as:"select",name:"selected",onChange:function(e){return a(n.id,n.type,e.target.value)},value:n.selected},r.a.createElement("option",{key:"-1",value:"-1"}," "),t.items.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))));if("color"===n.type){var o=fe.filament,l=ge(t,o);return r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(S.a,{size:"sm"},r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,null,"Selected:")),r.a.createElement(h.a.Control,{as:"select",name:"selected",onChange:function(e){return a(n.id,n.type,e.target.value)},value:n.selected},r.a.createElement("option",{key:"-1",value:"-1"}," "),l.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))))}if("group"===n.type){var i=Object.entries(t.modelSection.models).filter((function(e){return e[1].group===n.groupName}));return r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(S.a,{size:"sm"},r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,null,"Selected:")),r.a.createElement(h.a.Control,{as:"select",name:"selected",onChange:function(e){return a(n.id,n.type,e.target.value)},value:n.selected},r.a.createElement("option",{key:"-1",value:"-1"}," "),i.map((function(e){return r.a.createElement("option",{key:e[1].id,value:e[1].id},e[1].name)})))))}if("multiSelect"===n.type){var c=Object.entries(t.modelSection.models).filter((function(e){return e[1].group===n.groupName}));return r.a.createElement(r.a.Fragment,null,c.map((function(e){return r.a.createElement(h.a.Group,{as:C.a,xs:"4"},r.a.createElement(S.a,{size:"sm"},r.a.createElement(S.a.Prepend,null,r.a.createElement(S.a.Text,{id:e[1].id+"Label"},e[1].name)),r.a.createElement(S.a.Checkbox,{"aria-label":"option 1",checked:e[1].id in n.selected,onChange:function(t){return a(n.id,n.type,t.target.checked,e[1].id)}})))})))}return r.a.createElement(r.a.Fragment,null)},_e=function(e,t){return void 0!==t.groupName?t.groupName:void 0===e[t.id].name?e[t.id].section:e[t.id].name},Ke=function(e){for(var t=e.option,n=e.options,a=e.handleUpdate,o=e.handleAddPresetOption,l=e.handleDeletePresetOption,i=e.handleUpdatePresetOption,c={},d=0;d<n.length;d++){var p=n[d];if(c[p.id]=p,"section"===p.type)for(var s=p.modelSection.modelOrder,u=0;u<s.length;u++){var m=s[u];c[m]=p.modelSection.models[m]}}var f=function(e,t){for(var n=[],a=function(t){var a=e[t];"checkbox"===a.type?n.push({id:a.id,type:"checkbox"}):"colorpicker"===a.type?n.push({id:a.id,type:"color"}):"dropdown"===a.type?n.push({id:a.id,type:"selector"}):"section"===a.type&&(n.push({id:a.id,type:"color"}),o={},a.modelSection.modelOrder.map((function(e){n.push({id:e,type:"color"});var t=a.modelSection.models[e];!0!==t.inGroup||t.group in o||(o[t.group]=1,a.multiSelect?n.push({id:a.id,type:"multiSelect",groupName:t.group}):n.push({id:a.id,type:"group",groupName:t.group}))})))},r=0;r<e.length;r++){var o;a(r)}return n=n.filter((function(e){for(var n=0;n<t.length;n++)if(t[n].id===e.id&&e.type===t[n].type)return!1;return!0}))}(n,t.optionSelection);return r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(P,{propName:"name",propValue:t.name,label:"Name:",placeholder:"Name",handleUpdate:a,type:"text",toolTip:"Name of the Preset"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:C.a},r.a.createElement(P,{propName:"filename",propValue:t.filename,label:"Image:",placeholder:"Image name",handleUpdate:a,type:"text",toolTip:"Location of the Image file"}))),r.a.createElement(h.a.Row,null,r.a.createElement(re,{title:"Apply Preset to:",variant:"outline-primary",drop:"up"},f.map((function(e){return r.a.createElement(g.a.Item,{key:e.id,onSelect:function(t){return o(e.id,e.type,e.groupName)}},e.id+":"+_e(c,e)+" "+e.type)})))),t.optionSelection.map((function(e){return r.a.createElement(Z,{key:e.id},r.a.createElement(ne,null,r.a.createElement(te,{src:se.a,onClick:function(){return l(e.id)}}),r.a.createElement(C.a,{md:"4"},e.id+":"+_e(c,e)),r.a.createElement(Le,{selection:e,option:c[e.id],handleUpdate:i})))})))},We=n(152),$e=function(e){var t=e.option,n=e.options,a=e.handleUpdate,o=e.handleUpdatingTagOrder,l=e.handleClickDeleteTag,i=e.handleClickAddTag,c=e.reorderModels,d=e.handleClickAddModel,p=e.handleDeleteModel,s=e.handleUpdatingModel,u=e.handleClickDupModel,m=e.handleAddPresetOption,h=e.handleDeletePresetOption,g=e.handleUpdatePresetOption;return"checkbox"===t.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{option:t,handleUpdate:a}),r.a.createElement(ce,{option:t,handleUpdate:a})):"dropdown"===t.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{option:t,handleUpdate:a}),r.a.createElement(me,{option:t,handleUpdate:a,handleUpdatingTagOrder:o,handleClickDeleteTag:l,handleClickAddTag:i})):"colorpicker"===t.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{option:t,handleUpdate:a}),r.a.createElement(ke,{option:t,handleUpdate:a,handleUpdatingTagOrder:o,handleClickDeleteTag:l,handleClickAddTag:i})):"stl"===t.type?r.a.createElement(je,{option:t,handleUpdate:a}):"section"===t.type?r.a.createElement(Je,{option:t,handleUpdate:a,reorderModels:c,handleUpdatingTagOrder:o,handleClickDeleteTag:l,handleClickAddTag:i,handleClickAddModel:d,handleDeleteModel:p,handleUpdatingModel:s,handleClickDupModel:u}):"preset"===t.type?r.a.createElement(Ke,{option:t,options:n,handleUpdate:a,handleAddPresetOption:m,handleDeletePresetOption:h,handleUpdatePresetOption:g}):void 0},qe=function(e){var t=e.option,n=e.options,a=e.handleUpdate,o=e.handleUpdatingTagOrder,l=e.handleClickDeleteTag,i=e.handleClickAddTag,c=e.handleClickDeleteOption,d=e.handleClickDuplicateOption,p=e.reorderModels,s=e.handleClickAddModel,u=e.handleDeleteModel,m=e.handleUpdatingModel,h=e.handleClickDupModel,g=e.handleAddPresetOption,f=e.handleDeletePresetOption,b=e.handleUpdatePresetOption;return r.a.createElement("div",{className:"panel"},r.a.createElement(ie,{option:t,handleClickDeleteOption:c,handleClickDuplicateOption:d}),r.a.createElement(We.a,{style:{paddingTop:"6px"}},r.a.createElement($e,{option:t,handleUpdate:a,options:n,handleUpdatingTagOrder:o,handleClickDeleteTag:l,handleClickAddTag:i,reorderModels:p,handleClickAddModel:s,handleDeleteModel:u,handleUpdatingModel:m,handleClickDupModel:h,handleAddPresetOption:g,handleDeletePresetOption:f,handleUpdatePresetOption:b})))},Xe=function(e){for(var t=e.options,n=e.handleUpdate,a=e.handleUpdatingTagOrder,o=e.handleClickDeleteTag,l=e.handleClickAddTag,i=e.handleClickDeleteOption,c=e.handleUpdatingOptionOrder,d=e.handleClickDuplicateOption,p=e.reorderModels,s=e.handleClickAddModel,u=e.handleDeleteModel,m=e.handleUpdatingModel,h=e.handleClickDupModel,g=e.handleAddPresetOption,f=e.handleDeletePresetOption,b=e.handleUpdatePresetOption,v=[],E=0,O=0;O<t.length;O++){var y=t[O],k=4;if("dropdown"===y.type)k=9;else if("checkbox"===y.type)k=5;else if("colorpicker"===y.type)k="all"===y.colorInclusion?7.2:11.2;else if("stl"===y.type)k=6;else if("section"===y.type)k="all"===y.colorInclusion?8.5:12.5,k+=7*y.modelSection.modelOrder.length;else if("preset"===y.type){k=4.7;for(var x=0;x<y.optionSelection.length;x++){var C=y.optionSelection[x];"MultiSelect"===C.type?k+=(Object.entries(C).length-1)%3:k+=1.1}}v.push({i:y.id,x:0,y:E,w:1,h:k}),E+=k}return r.a.createElement("div",null,r.a.createElement(j.a,{className:"layout",layout:v,cols:1,rows:12,rowHeight:35,width:500,isResizable:!1,autoSize:!0,onLayoutChange:c,draggableHandle:".MyDragHandleClassName"},v.map((function(e,c){return r.a.createElement("div",{key:e.i},r.a.createElement(qe,{option:t[c],options:t,handleUpdate:function(e){return n(c,e)},handleUpdatingTagOrder:function(e){return a(c,e)},handleClickDeleteTag:function(e){return o(c,e)},handleClickAddTag:function(e){return l(c,e)},handleClickDeleteOption:i,handleClickDuplicateOption:d,reorderModels:function(e){return p(c,e)},handleClickAddModel:function(e){return s(c,e)},handleDeleteModel:function(e){return u(c,e)},handleUpdatingModel:function(e,t){return m(c,e,t)},handleClickDupModel:function(e){return h(c,e)},handleAddPresetOption:function(e,t,n){return g(c,e,t,n)},handleDeletePresetOption:function(e){return f(c,e)},handleUpdatePresetOption:function(e,t,n,a){return b(c,e,t,n,a)}}))}))))};function Ye(){var e=Object(f.a)(["\n  padding-top: 8px;\n"]);return Ye=function(){return e},e}function Qe(){var e=Object(f.a)(["\n  position: relative;\n  right: 10px;\n"]);return Qe=function(){return e},e}function Ze(){var e=Object(f.a)(["\n"]);return Ze=function(){return e},e}b.a.div(Ze());var et=Object(b.a)(u.a)(Qe()),tt=b.a.div(Ye()),nt=function(e){var t=e.data,n=e.handleSetPrice;return r.a.createElement(We.a,null,r.a.createElement(I.a,{className:"d-flex justify-content-between"},r.a.createElement(C.a,null,r.a.createElement(tt,null,"Number of Varients: ",t.numVarients)),r.a.createElement(et,{onClick:n},"Set Price")))};function at(){var e=Object(f.a)(["\n  display: flex;\n  width : 520px;\n  align-items: center;\n  position: relative;\n  z-index: 10;\n  height: 60px;\n  border-radius: 3px;\n  border-top: 2px solid lightgray;\n  border-right: 2px solid lightgray;\n"]);return at=function(){return e},e}function rt(){var e=Object(f.a)(["\n    width : 520px;\n    height: ",";\n    overflow: auto;\n    overflow-x:hidden;\n"]);return rt=function(){return e},e}function ot(){var e=Object(f.a)(["\n    /* display: flex; */\n    /* align-items: center; */\n    z-index: 10;\n    height: 50px;\n    width: 520px;\n    border-radius: 3px;\n    border-bottom: 2px solid lightgray;\n    border-right: 2px solid lightgray;\n"]);return ot=function(){return e},e}var lt=b.a.div(ot()),it=b.a.div(rt(),(function(e){return e.height})),ct=b.a.div(at());function dt(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var pt=function(e){var t=e.data,n=e.handleAdd,o=e.handleUpdate,l=e.handleUpdatingTagOrder,c=e.handleClickDeleteTag,d=e.handleClickAddTag,p=e.handleClickDeleteOption,s=e.handleUpdatingOptionOrder,u=e.handleClickDuplicateOption,m=e.handleSetPrice,h=e.importJson,g=e.reorderModels,f=e.handleClickAddModel,b=e.handleDeleteModel,v=e.handleUpdatingModel,E=e.handleClickDupModel,O=e.handleAddPresetOption,y=e.handleDeletePresetOption,x=e.handleUpdatePresetOption,j=function(){var e=Object(a.useState)(dt()),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){r(dt())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}().height;return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,null,r.a.createElement(k,{handleAdd:n,importJson:h})),r.a.createElement(it,{height:j-125+"px"},r.a.createElement(Xe,{options:t.options,handleUpdate:o,handleUpdatingTagOrder:l,handleClickDeleteTag:c,handleClickAddTag:d,handleClickDeleteOption:p,handleUpdatingOptionOrder:s,handleClickDuplicateOption:u,reorderModels:g,handleClickAddModel:f,handleDeleteModel:b,handleUpdatingModel:v,handleClickDupModel:E,handleAddPresetOption:O,handleDeletePresetOption:y,handleUpdatePresetOption:x})),r.a.createElement(ct,null,r.a.createElement(nt,{data:t,handleSetPrice:m})))},st=n(98);function ut(){var e=Object(f.a)(["\n.Resizer {\n  background: #000;\n  opacity: 0.2;\n  z-index: 1;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -moz-background-clip: padding;\n  -webkit-background-clip: padding;\n  background-clip: padding-box;\n}\n\n.Resizer:hover {\n  -webkit-transition: all 2s ease;\n  transition: all 2s ease;\n}\n\n.Resizer.horizontal {\n  height: 11px;\n  margin: -5px 0;\n  border-top: 5px solid rgba(255, 255, 255, 0);\n  border-bottom: 5px solid rgba(255, 255, 255, 0);\n  cursor: row-resize;\n  width: 100%;\n}\n\n.Resizer.horizontal:hover {\n  border-top: 5px solid rgba(0, 0, 0, 0.5);\n  border-bottom: 5px solid rgba(0, 0, 0, 0.5);\n}\n\n.Resizer.vertical {\n  width: 11px;\n  margin: 0 -5px;\n  border-left: 5px solid rgba(255, 255, 255, 0);\n  border-right: 5px solid rgba(255, 255, 255, 0);\n  cursor: col-resize;\n}\n\n.Resizer.vertical:hover {\n  border-left: 5px solid rgba(0, 0, 0, 0.5);\n  border-right: 5px solid rgba(0, 0, 0, 0.5);\n}\n.Resizer.disabled {\n  cursor: not-allowed;\n}\n.Resizer.disabled:hover {\n  border-color: transparent;\n}\n// .Pane {\n//   -webkit-transition:height .6s ease-in-out;\n//   transition:height .6s ease-in-out;\n//   -moz-transition: height .6s ease-in-out;\n// }\n\n"]);return ut=function(){return e},e}function mt(){var e=Object(f.a)(["\n  // min-width: 600px;\n  width:100%;\n"]);return mt=function(){return e},e}function ht(){var e=Object(f.a)(["\n  width : 520px;\n"]);return ht=function(){return e},e}function gt(){var e=Object(f.a)(["\n  width : 100%;\n  height: 100%;\n  display: flex;\n"]);return gt=function(){return e},e}var ft=b.a.div(gt()),bt=b.a.div(ht()),vt=b.a.div(mt()),Et=b.a.div(ut()),Ot=n(29),yt=n(9);function kt(e,t){var n={};t.forEach((function(e){"dropdown"===e.type&&(n[e.id]={},e.items.forEach((function(t){n[e.id][t.id]=t.name})))}));var a=[];return e.forEach((function(e){if(e.includes("dd")){var t=e.split("=");a.push(t[0]+"="+n[t[0]][t[1]])}else a.push(e)})),a}function xt(e,t,n){t.items=[],void 0!==e.includeColor?(e.includeColor.forEach((function(e){t.items.push({id:n[e].id,name:n[e].name})})),t.colorInclusion="include",delete t.includeColor):void 0!==e.excludeColor?(e.excludeColor.forEach((function(e){t.items.push({id:n[e].id,name:n[e].name})})),t.colorInclusion="exclude",delete t.excludeColor):t.colorInclusion="all"}function jt(e,t){var n=JSON.parse(e),a=fe.filament,r={};a.forEach((function(e){r[e.id]=e}));var o={mapping:{},options:[]};if(n.stl){var l={};l.camera=n.stl.camera,l.position=n.stl.position,l.scale=n.stl.scale,l.mindist=n.stl.mindist,l.maxdist=n.stl.maxdist,l.type="stl",l.id="stl",o.options.push(l);var c={};n.stl.sections.forEach((function(e){var n=Object(yt.a)({},e);xt(e,n,r),n.modelSection={models:{},modelOrder:[]},c[n.id]=o.options.length,t.sc=Math.max(t.sc,parseInt(n.id.replace("sc",""))+1),o.options.push(n)})),n.stl.models.forEach((function(e){var n=Object(yt.a)({},e),a=n.section;delete n.section,"Supplementary"!==a&&(o.options[c[a]].modelSection.models[e.id]=n,o.options[c[a]].modelSection.modelOrder.push(e.id),t.md=Math.max(t.md,parseInt(e.id.replace("md",""))+1))}))}n.options.forEach((function(e){if("colorpicker"===e.type){var n=Object(yt.a)({},e);xt(e,n,r),t.cp=Math.max(t.cp,parseInt(e.id.replace("cp",""))+1),o.options.push(n)}else"dropdown"===e.type?(t.dd=Math.max(t.dd,parseInt(e.id.replace("dd",""))+1),o.options.push(e)):"checkbox"===e.type&&(t.cb=Math.max(t.cb,parseInt(e.id.replace("cb",""))+1),o.options.push(e))})),n.presets&&n.presets.forEach((function(e){t.ps=Math.max(t.ps,parseInt(e.id.replace("ps",""))+1),o.options.push(e)}));var d={};if(void 0!==n.mapping)for(var p=0,s=Object.entries(n.mapping);p<s.length;p++){var u=Object(i.a)(s[p],2),m=u[0],h=u[1],g=kt(m.split("&"),o.options);d[m]={id:m,easyRead:g.join("&"),varient:h}}return o.mapping=d,o}function Ct(e,t,n,a){e.length?e.forEach((function(e){a.forEach((function(a){var r=Object(Ot.a)(e);""===a?r.push(a):r.push(n+"="+a),t.push(r)}))})):a.forEach((function(e){""===e?t.push([e]):t.push([n+"="+e])}))}function St(e){var t={},n=[],a=[];return e.forEach((function(e){if(!0===e.priceDiff)"colorpicker"===e.type?Ct(n,a,e.id,["Stand","Prem","UltPrem"]):"dropdown"===e.type?n.length?n.forEach((function(t){e.items.forEach((function(n){var r=Object(Ot.a)(t);r.push(e.id+"="+n.id),a.push(r)}))})):e.items.forEach((function(t){a.push([e.id+"="+t.id])})):"checkbox"===e.type&&Ct(n,a,e.id,["true","false"]),n=Object(Ot.a)(a),a=[];else if("section"===e.type)if(!0===e.multiSelect&&!0===e.hasCostTier){e.modelSection.modelOrder.forEach((function(e){Ct(n,a,e,["false","Stand","Prem","UltPrem"]),n=Object(Ot.a)(a),a=[]}));var t=n;n=a,a=t,n=Object(Ot.a)(a),a=[]}else if(!0===e.multiSelect){e.modelSection.modelOrder.forEach((function(e){Ct(n,a,e,["false","Stand"]),n=Object(Ot.a)(a),a=[]}));var r=n;n=a,a=r,n=Object(Ot.a)(a),a=[]}else!0===e.hasCostTier&&(Ct(n,a,e.id,["Stand","Prem","UltPrem"]),n=Object(Ot.a)(a),a=[])})),n.forEach((function(n){var a=kt(n,e),r=n.filter(Boolean).join("&");t[r]={id:r,easyRead:a.filter(Boolean).join("&")}})),t}function wt(e,t){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=n(138),o=fe.filament,l={},c=[],d=[],p={},s={},u={sections:[],models:[]},m=[];if(e.numVarients>1e3)!function(){for(var e=0,n=0,r="",o=function(){var t=Object(i.a)(d[c],2),o=t[0],p=t[1];if("unassigned"===o)return"continue";p.taskIds.forEach((function(t){var o=t.split("&"),i="";o.forEach((function(t){t in s||(r=0!==n?n.toString():"",s[t]=r+a.charAt(e),e+1>=a.length?(e=0,n++):e++),i+=s[t]})),p.title in s||(r=0!==n?n.toString():"",s[p.title]=r+a.charAt(e),e+1>=a.length?(e=0,n++):e++),l[i]=s[p.title]})),m.push(p.title)},c=0,d=Object.entries(t);c<d.length;c++)o();m.sort()}();else for(var h=function(){var e=Object(i.a)(f[g],2),t=e[0],n=e[1];if("unassigned"===t)return"continue";n.taskIds.forEach((function(e){l[e]=n.title,m.push(n.title)}))},g=0,f=Object.entries(t);g<f.length;g++)h();p["Cost Tier"]=m.join(","),e.options.forEach((function(e){if("colorpicker"===e.type){var t=Object(yt.a)({},e);if("all"===e.colorInclusion);else if("include"===e.colorInclusion){var n=[];e.items.forEach((function(e){n.push(e.id)})),t.includeColor=n}else if("exclude"===e.colorInclusion){var a=[];e.items.forEach((function(e){a.push(e.id)})),t.excludeColor=a}var r=ge(e,o),l=[];r.forEach((function(e){l.push(e.name)})),p[e.name]=l.join(","),delete t.colorInclusion,delete t.items,c.push(t)}else if("dropdown"===e.type){var i=[];e.items.forEach((function(e){i.push(e.name)})),p[e.name]=i.join(","),c.push(e)}else if("preset"===e.type)d.push(e);else if("checkbox"===e.type)c.push(e);else if("stl"===e.type)u.camera=e.camera,u.position=e.position,u.scale=e.scale,u.mindist=e.mindist,u.maxdist=e.maxdist;else if("section"===e.type){var s=Object(yt.a)({},e);if("all"===e.colorInclusion);else if("include"===e.colorInclusion){var m=[];e.items.forEach((function(e){m.push(e.id)})),s.includeColor=m}else if("exclude"===e.colorInclusion){var h=[];e.items.forEach((function(e){h.push(e.id)})),s.excludeColor=h}delete s.colorInclusion,delete s.items,delete s.modelSection,u.sections.push(s),e.modelSection.modelOrder.forEach((function(t){var n=e.modelSection.models[t];""===n.group&&delete n.group,n.colorId=e.colorId,n.section=e.id,u.models.push(n)}))}}));var b={options:c};u.sections.length&&(b.stl=u),e.numVarients<2e4&&(b.mapping=l),Object.entries(s).length>0&&(b.hashMap=s),d.length&&(b.presets=d),b.variant=p;var v=JSON.stringify(b,null,2),E=new Blob([v],{type:"application/json"});r.saveAs(E,"file.json")}function Ut(e,t){return"checkbox"===e?{id:"cb"+t.cb++,name:"",type:"checkbox",priceDiff:!1,price:0,selected:!1}:"dropdown"===e?{id:"dd"+t.dd++,name:"",type:"dropdown",priceDiff:!1,selected:"",items:[]}:"colorpicker"===e?{id:"cp"+t.cp++,name:"",type:"colorpicker",priceDiff:!1,colorId:"",colorInclusion:"all",price:{Prem:0,UltPrem:0},items:[]}:"section"===e?{id:"sc"+t.sc++,section:"",type:"section",hasCostTier:!1,costTier:{Stand:0,Prem:0,UltPrem:0},colorid:"",colorInclusion:"all",items:[],modelSection:{models:{},modelOrder:[]},multiSelect:!1}:"stl"===e?{id:"stl",camera:{x:0,y:0,z:0},position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},mindist:20,maxdist:60,type:"stl"}:"preset"===e?{id:"ps"+t.ps++,name:"",filename:"",type:"preset",optionSelection:[]}:null}function Pt(){var e=Object(f.a)(["\n  padding:12px;\n"]);return Pt=function(){return e},e}function Tt(){var e=Object(f.a)(["\n  overflow: hidden;\n  width: 125px;\n"]);return Tt=function(){return e},e}function Dt(){var e=Object(f.a)(["\n  width: 208px;\n  height: 36px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: white;\n  color: black;\n  border-color: lightgray;\n"]);return Dt=function(){return e},e}function It(){var e=Object(f.a)(["\n  ","\n"]);return It=function(){return e},e}function Nt(){var e=Object(f.a)(["\n  margin-left: 20px;\n"]);return Nt=function(){return e},e}function Mt(){var e=Object(f.a)(["\n\n"]);return Mt=function(){return e},e}function At(){var e=Object(f.a)(["\n  border-radius: 2px;\n  float: left;\n  min-width: 50px !important;\n  height: 35px !important;\n  margin: 0;\n  border: #ccc 1px solid;\n  background-color: #ddd;\n  font-size: 13px;\n  text-align: center;\n  line-height: 35px;\n  white-space: nowrap;\n  text-transform: uppercase;\n  padding: 0 10px;\n  cursor: pointer;\n  &.is-selected {\n    box-shadow: 0px 1px 2px rgba(0,0,0,0.8);\n    border-color: transparent;\n    background-color: #b5c8da;\n  }\n"]);return At=function(){return e},e}function zt(){var e=Object(f.a)(['\n  padding: .75rem;\n  padding-left: .25rem;\n  padding-right: .25rem;\n  display: block;\n  font-size: 16px;\n  font-family: "Work Sans","HelveticaNeue","Helvetica Neue",sans-serif;\n  color: #3d4246;\n  line-height: 1.5;\n']);return zt=function(){return e},e}function Vt(){var e=Object(f.a)(['\n  margin: 0px;\n  font-size: 16px;\n  font-family: "Work Sans","HelveticaNeue","Helvetica Neue",sans-serif;\n  color: #3d4246;\n  line-height: 1.5;\n']);return Vt=function(){return e},e}function Gt(){var e=Object(f.a)(['\n  margin: 0px;\n  color: #363636;\n  font-size: 1.5rem;\n  font-weight: 600;\n  line-height: 1.125;\n  font-family: "Work Sans","HelveticaNeue","Helvetica Neue",sans-serif;\n']);return Gt=function(){return e},e}function Ft(){var e=Object(f.a)(["\n  width: 42px;\n  height: 32px;\n  position: relative;\n  left: -6px;\n  border-radius: 2px;\n  border: 1px solid #a7a7a7;\n"]);return Ft=function(){return e},e}function Rt(){var e=Object(f.a)(["\n  width: 50px;\n  border-radius: 10%;\n  cursor: pointer;\n  padding: 1px;\n  border: 2px solid;\n  &.is-selected {\n    box-shadow: 1px 4px 5px rgba(0,0,0,0.8);\n    background-color: #b5c8da;\n  }\n"]);return Rt=function(){return e},e}function Ht(){var e=Object(f.a)(["\n  cursor: pointer;\n  display: inline-block;\n  line-height: 1.25;\n  position: relative;\n  font-size: 20px;\n  padding-top: 1.5rem;\n  padding-bottom: 1.5rem;\n  padding-left: 0.75rem;\n"]);return Ht=function(){return e},e}function Bt(){var e=Object(f.a)(["\n  padding-top: 40px;\n  width: 560px;\n"]);return Bt=function(){return e},e}var Jt=Object(b.a)(We.a)(Bt()),Lt=b.a.label(Ht()),_t=b.a.img(Rt()),Kt=b.a.img(Ft()),Wt=b.a.h3(Gt()),$t=b.a.p(Vt()),qt=b.a.div(zt()),Xt=b.a.label(At()),Yt=(b.a.div(Mt()),Object(b.a)(I.a)(Nt())),Qt=Object(b.a)(I.a)(It(),(function(e){return"section"===e.type?"background-color : lightgray;":"background-color : white;"})),Zt=Object(b.a)(g.a.Toggle)(Dt()),en=b.a.span(Tt()),tn=Object(b.a)(C.a)(Pt()),nn=function(e){var t=e.option;return r.a.createElement(I.a,null,r.a.createElement("div",{className:"form-check"},r.a.createElement(Lt,{className:"form-chech-label"},r.a.createElement("input",{type:"checkbox",className:"form-check-input"}),t.name)))},an=function(e){var t=e.option;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(Wt,null,t.name)),r.a.createElement(I.a,null,t.items.map((function(e){return r.a.createElement(qt,{key:e.id},r.a.createElement(Xt,{className:t.selected===e.id&&"is-selected"},e.name))}))))},rn=function(e){var t=e.option,n=e.filament,a=ge(t,n);return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(Wt,null,t.name,""!==t.colorId?": "+t.colorId:"")),r.a.createElement(I.a,null,a.map((function(e){return r.a.createElement(qt,{key:e.id,style:{padding:"3.2px"}},r.a.createElement(_t,{className:t.colorId===e.id&&"is-selected",src:e.zoom}))}))))},on=function(e){var t=e.colors,n=e.selectedColor;return r.a.createElement(g.a,null,r.a.createElement(Zt,null,r.a.createElement(Kt,{src:void 0!==n?n.zoom:""}),r.a.createElement(en,null,void 0!==n?n.name:"")),r.a.createElement(g.a.Menu,null,t.map((function(e){return r.a.createElement(g.a.Item,{key:e.id,eventKey:e.id},r.a.createElement(Kt,{src:e.zoom}),e.name)}))))},ln=function(e){var t=e.modelGrp,n=e.section,a=e.selectedFilament,o=e.selectedColor;return!0===n.multiSelect?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:"inline-$checkbox",className:"mb-3"},t.map((function(e){return r.a.createElement(h.a.Check,{key:e.id,inline:!0,label:e.name,type:"checkbox",id:"inline-$checkbox-"+e.id,checked:e.selected,readOnly:!0})}))),r.a.createElement("div",{style:{paddingLeft:"20px"}},t.map((function(e){return!0===e.selected?r.a.createElement(Yt,{key:e.id},r.a.createElement(tn,null,r.a.createElement($t,null,e.name,":")),r.a.createElement(tn,null,r.a.createElement(on,{colors:a,selectedColor:o}))):r.a.createElement(r.a.Fragment,null)})))):1===t.length?r.a.createElement(Yt,null,r.a.createElement(tn,null,r.a.createElement($t,null,t[0].name,":")),r.a.createElement(tn,null,r.a.createElement(on,{colors:a,selectedColor:o}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:"inline-$radio",className:"mb-3"},t.map((function(e){return r.a.createElement(h.a.Check,{inline:!0,readOnly:!0,label:e.name,key:e.id,type:"radio",id:"inline-$radio-"+e.id,checked:e.selected})}))),r.a.createElement("div",{style:{paddingLeft:"20px"}},t.map((function(e){return!0===e.selected?r.a.createElement(Yt,{key:e.id},r.a.createElement(tn,null,r.a.createElement($t,null,e.name,":")),r.a.createElement(tn,null,r.a.createElement(on,{colors:a,selectedColor:o}))):r.a.createElement(r.a.Fragment,null)}))))},cn=function(e){for(var t=e.option,n=e.filament,a=ge(t,n),o=t.modelSection.models,l=n.filter((function(e){return t.colorId===e.id})),c=Object.keys(o).length,d=[],p={},s=0,u=Object.entries(o);s<u.length;s++){var m=Object(i.a)(u[s],2),h=(m[0],m[1]);!1===h.inGroup?d.push([h]):void 0===p[h.group]?(d.push([h]),p[h.group]=d.length-1):d[p[h.group]].push(h)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt,{type:"section"},r.a.createElement(tn,null,r.a.createElement(Wt,null,t.section,":")),r.a.createElement(tn,null,r.a.createElement(on,{colors:a,selectedColor:l[0]}))),c>1&&d.map((function(e,n){return r.a.createElement(ln,{key:n,modelGrp:e,section:t,selectedFilament:a,selectedColor:l[0]})})))},dn=function(e){var t=e.option,n=e.filament;return"checkbox"===t.type?r.a.createElement(nn,{option:t}):"dropdown"===t.type?r.a.createElement(an,{option:t}):"colorpicker"===t.type?r.a.createElement(rn,{option:t,filament:n}):"section"===t.type?r.a.createElement(cn,{option:t,filament:n}):r.a.createElement(r.a.Fragment,null)},pn=function(e){var t=e.data,n=fe.filament;return r.a.createElement(Jt,null,t.options.map((function(e){return r.a.createElement(dn,{key:e.id,option:e,filament:n})})))},sn=n(32);function un(){var e=Object(f.a)(["\n  display: inline-block;\n  position: relative;\n"]);return un=function(){return e},e}function mn(){var e=Object(f.a)(["\n  margin-left:10px;\n"]);return mn=function(){return e},e}function hn(){var e=Object(f.a)(["\n  background-color: transparent;\n  color: black;\n  border-color: transparent;\n"]);return hn=function(){return e},e}function gn(){var e=Object(f.a)(["\n  display:flex;\n  justify-content: flex-end;\n"]);return gn=function(){return e},e}function fn(){var e=Object(f.a)(["\n  display:flex;\n  justify-content: flex-start;\n  align-items:center;\n"]);return fn=function(){return e},e}function bn(){var e=Object(f.a)(["\n  width:200px;\n"]);return bn=function(){return e},e}function vn(){var e=Object(f.a)(["\n  padding-left:5px;\n  vertical-align: middle;\n  width:125px;\n"]);return vn=function(){return e},e}var En=b.a.div(vn()),On=b.a.div(bn()),yn=b.a.div(fn()),kn=b.a.div(gn()),xn=Object(b.a)(u.a)(hn()),jn=Object(b.a)(u.a)(mn()),Cn=Object(b.a)(v.a)(un()),Sn=n(77),wn=function(e){Object(p.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).addVarient=function(){""!==a.variantName.value&&(a.props.addColumns(a.variantName.value),a.variantName.value="")},a.handleEnterAddVarient=function(e){"Enter"===e.key&&(a.addVarient(),e.preventDefault())},a.setVariantText=function(e){a.variantName=e},a.variantName="",a}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yn,null,r.a.createElement(En,null,"Add a Varient:"),r.a.createElement(On,null,r.a.createElement(S.a,null,r.a.createElement(de.a,{placeholder:"Varient Name",onKeyDown:this.handleEnterAddVarient,ref:this.setVariantText}),r.a.createElement(S.a.Append,null,r.a.createElement(u.a,{onClick:this.addVarient,variant:"info"},"Add")))),r.a.createElement(Cn,{title:"Auto Populate Variant",onSelect:function(t){return e.props.generateVarient(t)},variant:"outline-primary"},r.a.createElement(g.a.Item,{eventKey:"onetoone"},"For Each Remaining"),r.a.createElement(g.a.Item,{eventKey:"price"},"By Price"))," ",r.a.createElement(jn,{onClick:this.props.exportJson},"Export")," ",this.props.numColumns," variants"),r.a.createElement(kn,null,r.a.createElement(xn,{onClick:function(t){return e.props.changeHeight("down")},variant:"light"},r.a.createElement(Sn.b,null)),r.a.createElement(xn,{onClick:function(t){return e.props.changeHeight("up")},variant:"light"},r.a.createElement(Sn.a,null))))}}]),n}(r.a.Component);function Un(){var e=Object(f.a)(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: clip;\n  :hover {\n    overflow:visible;\n  }\n"]);return Un=function(){return e},e}function Pn(){var e=Object(f.a)(["\n  position:absolute;\n  top: 0px;\n  right: 0px;\n"]);return Pn=function(){return e},e}function Tn(){var e=Object(f.a)(["\n  padding:8px;\n  transition: background-color 0.2s ease;\n  background-color: ",";\n  flex-grow: 1;\n  min-height: 100px;\n"]);return Tn=function(){return e},e}function Dn(){var e=Object(f.a)(["\n  padding:8px;\n  padding-right:40px;\n"]);return Dn=function(){return e},e}function In(){var e=Object(f.a)(["\n  border:1px solid lightgrey;\n  border-radius: 2px;\n  padding: 8px;\n  margin-bottom:8 px;\n  background-color: ",";\n"]);return In=function(){return e},e}function Nn(){var e=Object(f.a)(["\n  display:flex;\n"]);return Nn=function(){return e},e}function Mn(){var e=Object(f.a)(["\n  position:relative;\n  margin: 8px;\n  border:1px solid lightgrey;\n  border-radius: 2px;\n  background-color:white;\n  min-width: 250px;\n\n  display: flex;\n  flex-direction: column;\n"]);return Mn=function(){return e},e}var An=b.a.div(Mn()),zn=b.a.div(Nn()),Vn=b.a.div(In(),(function(e){return e.isDragging?"lightgreen":"white"})),Gn=b.a.h3(Dn()),Fn=b.a.div(Tn(),(function(e){return e.isDraggingOver?"skyblue":"inherit"})),Rn=Object(b.a)(u.a)(Pn()),Hn=b.a.div(Un()),Bn=function(e){Object(p.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.task.content.split("&");return r.a.createElement(Fe.b,{draggableId:this.props.task.id,index:this.props.index},(function(t,n){return r.a.createElement(Vn,Object.assign({},t.draggableProps,t.dragHandleProps,{ref:t.innerRef,isDragging:n.isDragging}),e.map((function(e,t){return r.a.createElement(r.a.Fragment,null,0===t?"":"&",e,r.a.createElement("wbr",{key:t}))})))}))}}]),n}(r.a.Component),Jn=n(99),Ln=n.n(Jn),_n=(n(139),function(e){Object(p.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(Fe.b,{draggableId:this.props.column.id,index:this.props.index},(function(t){return r.a.createElement(An,Object.assign({},t.draggableProps,{ref:t.innerRef}),r.a.createElement(Hn,t.dragHandleProps,e.props.column.taskIds.length,"unassigned"!==e.props.column.id&&r.a.createElement(Rn,{variant:"light",onClick:function(t){return e.props.deleteColumn(e.props.column.id)}},r.a.createElement(oe.a,null))),"unassigned"!==e.props.column.id?r.a.createElement(Ln.a,{text:e.props.column.title,labelClassName:"VariantTitle",inputClassName:"VariantInput",onFocusOut:function(t){return e.props.updateColumnName(t,e.props.column.id)}}):r.a.createElement(Gn,null,e.props.column.title),r.a.createElement(Fe.c,{droppableId:e.props.column.id,type:"task"},(function(t,n){return r.a.createElement(Fn,Object.assign({ref:t.innerRef},t.droppableProps,{isDraggingOver:n.isDraggingOver}),e.props.tasks.map((function(e,t){return t<10?r.a.createElement(Bn,{key:e.id,task:e,index:t}):r.a.createElement(r.a.Fragment,null)})),t.placeholder)})))}))}}]),n}(r.a.Component)),Kn=function(e){Object(p.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onDragEnd=function(t){var n=t.destination,a=t.source,r=t.draggableId,o=t.type;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index)){if("column"===o){var l=Array.from(e.props.columnOrder);return l.splice(a.index,1),l.splice(n.index,0,r),void e.props.updateColumnOrder(l)}var i=e.props.columns[a.droppableId],c=e.props.columns[n.droppableId];if(i!==c){var d=Array.from(i.taskIds);d.splice(a.index,1);var p=Object(yt.a)(Object(yt.a)({},i),{},{taskIds:d}),s=Array.from(c.taskIds);s.splice(n.index,0,r);var u=Object(yt.a)(Object(yt.a)({},c),{},{taskIds:s});e.props.updateLists(p,u)}else{var m=Array.from(i.taskIds);m.splice(a.index,1),m.splice(n.index,0,r);var h=Object(yt.a)(Object(yt.a)({},i),{},{taskIds:m});e.props.updateColumns(h)}}},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(Fe.a,{onDragEnd:this.onDragEnd},r.a.createElement(Fe.c,{droppableId:"all-columns",direction:"horizontal",type:"column"},(function(t){return r.a.createElement(zn,Object.assign({},t.droppableProps,{ref:t.innerRef}),e.props.columnOrder.map((function(t,n){var a=e.props.columns[t],o=a.taskIds.map((function(t){return e.props.tasks[t]}));return n<100?r.a.createElement(_n,{key:a.id,column:a,tasks:o,index:n,deleteColumn:e.props.deleteColumn,updateColumnName:e.props.updateColumnName}):r.a.createElement(r.a.Fragment,null)})),t.placeholder)})))}}]),n}(r.a.Component);function Wn(){var e=Object(f.a)(["\n  overflow: auto;\n  height: ",";\n"]);return Wn=function(){return e},e}function $n(){var e=Object(f.a)(["\n  display:flex;\n  align-items:center;\n  justify-content:space-between;\n  z-index: 10;\n  height: 55px;\n  border-radius: 3px;\n  border-bottom: 2px solid lightgray;\n  border-right: 2px solid lightgray;\n"]);return $n=function(){return e},e}var qn=b.a.div($n()),Xn=b.a.div(Wn(),(function(e){return e.height})),Yn=function(e){Object(p.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={mapping:e.props.mapping,tasks:{},columns:{unassigned:{id:"unassigned",title:"Unassigned Variants",taskIds:[]}},columnOrder:["unassigned"]},e.exportJson=function(){e.state.columns.unassigned.taskIds.length>0?alert("There are still some prices not assigned."):e.props.exportJson(e.state.columns)},e.addColumns=function(t){if(e.state.columns.hasOwnProperty(t))alert("Can't use the same varient name.");else{var n={id:t,title:t,taskIds:[]},a=e.state.columnOrder.slice();a.push(n.id);var r=Object(yt.a)(Object(yt.a)({},e.state),{},{columns:Object(yt.a)(Object(yt.a)({},e.state.columns),{},Object(sn.a)({},n.id,n)),columnOrder:a});e.setState(r)}},e.updateLists=function(t,n){var a,r=Object(yt.a)(Object(yt.a)({},e.state),{},{columns:Object(yt.a)(Object(yt.a)({},e.state.columns),{},(a={},Object(sn.a)(a,t.id,t),Object(sn.a)(a,n.id,n),a))});e.setState(r)},e.groupVariants=function(t,n){for(var a={unassigned:{id:"unassigned",title:"Unassigned Variants",taskIds:[]}},r=["unassigned"],o=0,l={},c=0,d=Object.entries(e.props.mapping);c<d.length;c++){var p=Object(i.a)(d[c],1)[0];if(n[o]in l)a[l[n[o]]].taskIds.push(p);else{var s="",u={id:s=0===t[o]?"Base":"Add-on: +$"+t[o],title:s,taskIds:[p]};a[s]=u,l[n[o]]=s,r.push(s)}o++}console.log("columnons generated"),e.setState({columns:a,columnOrder:r})},e.generateVarient=function(t){if("onetoone"===t)e.genereteOnetoOne();else if("price"===t){var n=e.props.combineSamePrices();e.groupVariants(n[0],n[1])}else if("priceBuckets"===t){var a=e.props.generatePriceBuckets();e.groupVariants(a[1],a[2])}},e.genereteOnetoOne=function(){var t=e.state.columns.unassigned;if(t.taskIds.length){var n=e.state.columnOrder.slice(),a=Object(yt.a)(Object(yt.a)({},e.state),{},{columns:Object(yt.a)({},e.state.columns)});t.taskIds.forEach((function(t){var r=e.state.tasks[t].content.split("&").map((function(e){var t=e.split("=")[1];return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()})),o={id:e.state.tasks[t].content,title:r.join(" - "),taskIds:[e.state.tasks[t].id]};n.push(o.id),a.columns[o.id]=o})),a.columns.unassigned.taskIds=[],a.columnOrder=n,e.setState(a)}},e.updateColumnName=function(t,n){var a=Object(yt.a)(Object(yt.a)({},e.state.columns[n]),{},{title:t}),r=Object(yt.a)(Object(yt.a)({},e.state),{},{columns:Object(yt.a)(Object(yt.a)({},e.state.columns),{},Object(sn.a)({},n,a))});e.setState(r)},e.updateColumnOrder=function(t){var n=Object(yt.a)(Object(yt.a)({},e.state),{},{columnOrder:t});e.setState(n)},e.updateColumns=function(t){var n=Object(yt.a)(Object(yt.a)({},e.state),{},{columns:Object(yt.a)(Object(yt.a)({},e.state.columns),{},Object(sn.a)({},t.id,t))});e.setState(n)},e.deleteColumn=function(t){var n=Array.from(e.state.columns[t].taskIds),a=Array.from(e.state.columnOrder);a.splice(a.indexOf(t),1),e.setState({columnOrder:a});var r=Object(yt.a)({},e.state.columns),o=e.state.columns.unassigned,l=Object(yt.a)(Object(yt.a)({},o),{},{taskIds:o.taskIds.concat(n)});delete r[t],r.unassigned=l,e.setState({columns:r})},e}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(e,t){if(this.props.mapping!==e.mapping){for(var n={},a=[],r=0,o=Object.entries(this.props.mapping);r<o.length;r++){var l=Object(i.a)(o[r],2),c=l[0],d=l[1];n[c]={id:c,content:d.easyRead.replace(/ /g,"_")},a.push(c)}this.setState({tasks:n});var p=this.props.mapping;if(Object.keys(p).length&&void 0!==p[Object.keys(p)[0]].varient){for(var s={unassigned:{id:"unassigned",title:"Unassigned Variants",taskIds:[]}},u=["unassigned"],m=0,h=Object.entries(this.props.mapping);m<h.length;m++){var g=Object(i.a)(h[m],2),f=g[0],b=g[1];if(s.hasOwnProperty(b.varient))s[b.varient].taskIds.push(f);else{var v={id:b.varient,title:b.varient,taskIds:[f]};s[b.varient]=v,u.push(b.varient)}}this.setState({columns:s,columnOrder:u})}else{for(var E={},O=0,y=Object.entries(t.columns);O<y.length;O++){var k=Object(i.a)(y[O],2),x=k[0],j=k[1];"unassigned"===x?E.unassigned=Object(yt.a)(Object(yt.a)({},t.columns.unassigned),{},{taskIds:a.length>100?[]:a}):E[x]=Object(yt.a)(Object(yt.a)({},j),{},{taskIds:[]})}this.setState({columns:E})}}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(qn,null,r.a.createElement(wn,{addColumns:this.addColumns,exportJson:this.exportJson,changeHeight:this.props.changeHeight,generateVarient:this.generateVarient,numColumns:Object.entries(this.state.columns).length})),r.a.createElement(Xn,{height:this.props.height+"px"},this.state.columnOrder.length<150?r.a.createElement(Kn,{tasks:this.state.tasks,columns:this.state.columns,columnOrder:this.state.columnOrder,updateColumns:this.updateColumns,updateLists:this.updateLists,deleteColumn:this.deleteColumn,updateColumnName:this.updateColumnName,updateColumnOrder:this.updateColumnOrder}):r.a.createElement(r.a.Fragment,null," ")))}}]),n}(r.a.Component),Qn=function(){function e(){Object(c.a)(this,e),this.minDistance=1e-5,this.groupDistance=.1}return Object(d.a)(e,[{key:"cluster",value:function(e,t){for(var n=e.slice(),a=1,r=n.length,o=new Array(e.length).fill(!0);a>this.minDistance;){a=0;for(var l=0;l<r;l++)if(!1!==o[l]){var i=n[l],c=i;i=this._shift_points(i,e,t);var d=Math.abs(i-c);a=Math.max(a,d),d<this.minDistance&&(o[l]=!1),n[l]=i}}return[e,n,this._pointGrouper(n)]}},{key:"_shift_points",value:function(e,t,n){var a=this,r=0,o=0;return t.forEach((function(t){var l=Math.abs(e-t),i=a._gaussian_kernel(l,n);r+=t*i,o+=i})),r/=o}},{key:"_gaussian_kernel",value:function(e,t){return 1/(t*Math.sqrt(2*Math.PI))*Math.exp(-.5*Math.pow(e/t,2))}},{key:"_pointGrouper",value:function(e){var t=this,n=[],a=[],r=0;return e.forEach((function(e){var o=t._findNearestGroup(e,a);void 0===o?(a.push([e]),n.push(r),r++):(n.push(o),a[o].push(e))})),n}},{key:"_findNearestGroup",value:function(e,t){var n=this,a=void 0,r=0;return t.forEach((function(t){var o=Number.MAX_VALUE;t.forEach((function(t){o=Math.min(o,Math.abs(t-e))})),o<n.groupDistance&&(a=r),r++})),a}}]),e}(),Zn=function(e){Object(p.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).counter={cb:0,dd:0,cp:0,sc:0,md:0,ps:0},e.storage=window.localStorage,e.state={height:window.innerHeight-70,mapping:{},numVarients:0,options:[]},e.determineNumberofVarients=function(e){return e.reduce((function(e,t){return t.priceDiff?"colorpicker"===t.type?3*e:"dropdown"===t.type?e*(0===t.items.length?1:t.items.length):"checkbox"===t.type?2*e:(console.log("Type not implemented for Counting"),e):"section"===t.type?t.multiSelect&&t.hasCostTier?e*Math.pow(4,t.modelSection.modelOrder.length):t.multiSelect?e*Math.pow(2,t.modelSection.modelOrder.length):t.hasCostTier?3*e:e:e}),1)},e.handleAddingNewOptions=function(t){var n=Ut(t,e.counter);if(n){var a=e.state.options.slice();a.push(n),e.updateOptions(a)}else console.log("Option type "+t+" is not implemented for Add")},e.handleUpdateingOptions=function(t,n,a){var r=e.state.options.slice(),o=n.target,l=o.name,c=o.value,d=o.type,p=o.checked;if("number"===d)if(2===l.split(".").length){var s=l.split("."),u=Object(i.a)(s,2),m=u[0],h=u[1];r[t][m][h]=parseFloat(c)}else r[t][l]=parseFloat(c);else r[t][l]="checkbox"===d?p:c;e.updateOptions(r)},e.handleUpdatingTagOrder=function(t,n){var a=e.state.options.slice();a[t].items=n,e.updateOptions(a)},e.handleClickDeleteTag=function(t,n){var a=e.state.options.slice(),r=a[t].items.filter((function(e){return n.id!==e.id}));a[t].items=r,e.updateOptions(a)},e.handleClickAddTag=function(t,n){var a=e.state.options.slice();a[t].items.filter((function(e){return e.name===n.tagName})).length>0||("colorpicker"===a[t].type||"section"===a[t].type?a[t].items.push({id:n.tagId,name:n.tagName}):a[t].items.push({id:a[t].id+"t"+n.tagId,name:n.tagName,price:parseFloat(n.price)}),e.updateOptions(a))},e.handleClickDeleteOption=function(t){var n=e.state.options.slice();n.forEach((function(e){"preset"===e.type&&(e.optionSelection=e.optionSelection.filter((function(e){return t.id!==e.id})))}));var a=n.filter((function(e){return t.id!==e.id}));e.updateOptions(a)},e.handleUpdatingOptionOrder=function(t){t.sort((function(e,t){return e.y-t.y}));var n=t.map((function(e){return e.i})),a=e.state.options.slice().sort((function(e,t){var a=e.id,r=t.id;return n.indexOf(a)-n.indexOf(r)}));e.updateOptions(a)},e.handleClickDuplicateOption=function(t){var n=JSON.parse(JSON.stringify(t));if("checkbox"===n.type)n.id="cb"+e.counter.cb++;else if("dropdown"===n.type)n.id="dd"+e.counter.dd++;else if("colorpicker"===n.type)n.id="cp"+e.counter.cp++;else if("preset"===n.type)n.id="ps"+e.counter.ps++;else if("section"===n.type){n.id="sc"+e.counter.sc++;var a=[];n.modelSection.modelOrder.forEach((function(t){var r="md"+e.counter.md++;n.modelSection.models[t].id=r,n.modelSection.models[r]=n.modelSection.models[t],delete n.modelSection.models[t],a.push(r)})),n.modelSection.modelOrder=a,console.log(n)}else{if("stl"===n.type)return void console.log("Can't duplicate this version.");console.log("Duplicate is not implement for this type")}var r=e.state.options.slice();r.push(n),e.updateOptions(r)},e.handleSetPrice=function(){for(var t=0;t<e.state.options.length;t++){var n=e.state.options[t];if(""===n.selected||""===n.colorId)return void alert("Option "+(n.name?n.name:n.section)+" does not have default selected.")}var a=St(e.state.options);if(Object.keys(a).length===Object.keys(e.state.mapping).length){for(var r=!0,o=0,l=Object.entries(e.state.mapping);o<l.length;o++){var c=Object(i.a)(l[o],1)[0];if(!1===a.hasOwnProperty(c)){r=!1;break}}if(r)return void console.log("match")}console.log("Generated ",Object.entries(a).length," mappings."),e.setState({mapping:a}),e.setState({height:window.innerHeight/2})},e.exportJson=function(t){wt(e.state,t)},e.importJson=function(t){var n=jt(t,e.counter);e.setState({options:n.options,mapping:n.mapping})},e.changeHeight=function(t){"up"===t?e.setState({height:50}):e.setState({height:window.innerHeight-70})},e.updateHeight=function(t){e.setState({height:t})},e.handleAddPresetOption=function(t,n,a,r){var o=e.state.options.slice(),l={id:n,type:a};"checkbox"===a?l.selected=!1:(l.selected="","group"!==a&&"multiSelect"!==a||(l.groupName=r),"multiSelect"===a&&(l.selected={})),o[t].optionSelection.push(l),e.updateOptions(o)},e.handleDeletePresetOption=function(t,n){var a=e.state.options.slice();a[t].optionSelection=a[t].optionSelection.filter((function(e){return n!==e.id})),e.updateOptions(a)},e.handleUpdatePresetOption=function(t,n,a,r,o){console.log(t,n,a,r,o);for(var l=e.state.options.slice(),i=0;i<l[t].optionSelection.length;i++){var c=l[t].optionSelection[i];if(c.id===n&&c.type===a){"multiSelect"===a?!0===r?l[t].optionSelection[i].selected[o]=!0:delete l[t].optionSelection[i].selected[o]:l[t].optionSelection[i].selected=r;break}}e.updateOptions(l)},e.reorderModels=function(t,n){var a=n.destination,r=n.source,o=n.draggableId;if(a&&(a.droppableId!==r.drop||a.index!==r.index)){var l=e.state.options.slice(),i=Array.from(l[t].modelSection.modelOrder);i.splice(r.index,1),i.splice(a.index,0,o),l[t].modelSection.modelOrder=i,e.setState({options:l})}},e.handleClickAddModel=function(t,n){var a=e.state.options.slice(),r="md"+e.counter.md++;a[t].modelSection.models[r]={id:r,name:"",filename:"",show:!0,price:{Stand:1,Prem:2,UltPrem:3},colorId:"",inGroup:!1,selected:!1,group:""},a[t].modelSection.modelOrder.push(r),e.updateOptions(a)},e.handleDeleteModel=function(t,n){var a=e.state.options.slice();delete a[t].modelSection.models[n];var r=a[t].modelSection.modelOrder;r.splice(r.indexOf(n),1),a[t].modelSection.modelOrder=r,e.updateOptions(a)},e.handleUpdatingModel=function(t,n,a){var r=e.state.options.slice(),o=a.target,l=o.name,c=o.value,d=o.type,p=o.checked;if("number"===d)if(2===l.split(".").length){var s=l.split("."),u=Object(i.a)(s,2),m=u[0],h=u[1];r[t].modelSection.models[n][m][h]=parseFloat(c)}else r[t].modelSection.models[n][l]=parseFloat(c);else r[t].modelSection.models[n][l]="checkbox"===d?p:c;console.log(r[t].modelSection.models[n]),e.updateOptions(r)},e.handleClickDupModel=function(t,n){var a=JSON.parse(JSON.stringify(n)),r="md"+e.counter.md++;a.id=r;var o=e.state.options.slice();o[t].modelSection.models[r]=a,o[t].modelSection.modelOrder.push(r),e.updateOptions(o)},e.calculatePriceofVariant=function(e,t){for(var n=[],a=0,r=Object.entries(e);a<r.length;a++){var o=Object(i.a)(r[a],2),l=(o[0],o[1].id.split("&").reduce((function(e,n){var a=n.split("="),r=Object(i.a)(a,2),o=r[0],l=r[1];if("checkbox"===t[o].type)return"true"===l?e+t[o].price:e;if("dropdown"===t[o].type){for(var c=0;c<t[o].items.length;c++)if(t[o].items[c].id===l)return e+t[o].items[c].price;return e}return"section"===t[o].type?"Stand"===l?e:e+t[o].costTier[l]:"false"===l||"Stand"===l&&"colorpicker"===t[o].type?e:e+t[o].price[l]}),0));n.push(l)}return console.log("There are ",n.length," price buckets"),n},e.generatePriceBuckets=function(){if(0!==Object.entries(e.state.mapping).length){var t=e.mapOptionstoId(e.state.options),n=e.calculatePriceofVariant(e.state.mapping,t);return(new Qn).cluster(n,.5)}},e.combineSamePrices=function(){if(0!==Object.entries(e.state.mapping).length){var t=e.mapOptionstoId(e.state.options),n=e.calculatePriceofVariant(e.state.mapping,t);n.sort((function(e,t){return e-t}));for(var a=[],r={},o=0,l=0;l<n.length;l++)n[l]in r?a.push(r[n[l]]):(a.push(o),r[n[l]]=o,o++);return console.log("Grouping achieved."),console.log(n,a),[n,a]}},e}return Object(d.a)(n,[{key:"updateOptions",value:function(e){this.storage.setItem("options",JSON.stringify(e)),this.setState({options:e,numVarients:this.determineNumberofVarients(e)})}},{key:"updateCounter",value:function(e,t){return e.forEach((function(e){"colorpicker"===e.type?t.cp=Math.max(t.cp,parseInt(e.id.replace("cp",""))+1):"dropdown"===e.type?t.dd=Math.max(t.dd,parseInt(e.id.replace("dd",""))+1):"checkbox"===e.type?t.cb=Math.max(t.cb,parseInt(e.id.replace("cb",""))+1):"preset"===e.type?t.cb=Math.max(t.ps,parseInt(e.id.replace("ps",""))+1):"section"===e.type&&(t.sc=Math.max(t.sc,parseInt(e.id.replace("sc",""))+1),e.modelSection.modelOrder.forEach((function(n){var a=e.modelSection.models[n];t.md=Math.max(t.md,parseInt(a.id.replace("md",""))+1)})))})),e}},{key:"mapOptionstoId",value:function(e){var t={};return e.forEach((function(e){t[e.id]=e,"section"===e.type&&e.modelSection.modelOrder.forEach((function(n){var a=e.modelSection.models[n];t[a.id]=a}))})),t}},{key:"render",value:function(){var e=window.innerHeight-this.state.height-70,t=window.innerWidth-505;return r.a.createElement(ft,null,r.a.createElement(bt,null,r.a.createElement(pt,{data:this.state,handleAdd:this.handleAddingNewOptions,handleUpdate:this.handleUpdateingOptions,handleUpdatingTagOrder:this.handleUpdatingTagOrder,handleClickDeleteTag:this.handleClickDeleteTag,handleClickAddTag:this.handleClickAddTag,handleClickDeleteOption:this.handleClickDeleteOption,handleUpdatingOptionOrder:this.handleUpdatingOptionOrder,handleClickDuplicateOption:this.handleClickDuplicateOption,handleSetPrice:this.handleSetPrice,importJson:this.importJson,reorderModels:this.reorderModels,handleClickAddModel:this.handleClickAddModel,handleDeleteModel:this.handleDeleteModel,handleUpdatingModel:this.handleUpdatingModel,handleClickDupModel:this.handleClickDupModel,handleAddPresetOption:this.handleAddPresetOption,handleDeletePresetOption:this.handleDeletePresetOption,handleUpdatePresetOption:this.handleUpdatePresetOption})),r.a.createElement(vt,null,r.a.createElement(Et,null,r.a.createElement(st.a,{split:"horizontal",style:{position:"relative"},paneStyle:{overflow:"auto",display:"inline",width:t},size:this.state.height,onDragFinished:this.updateHeight},r.a.createElement(pn,{data:this.state}),r.a.createElement(Yn,{mapping:this.state.mapping,exportJson:this.exportJson,changeHeight:this.changeHeight,generatePriceBuckets:this.generatePriceBuckets,combineSamePrices:this.combineSamePrices,height:e})))))}}]),n}(r.a.Component);var ea=function(){return r.a.createElement(Zn,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(140),n(141),n(142);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ea,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},27:function(e){e.exports=JSON.parse('{"filament":[{"id":"atm-neongreen","color":"#53F04D","name":"Atomic Trans Neon Green","tier":"Standard","src":"atomic-transneongreen.jpg","zoom":"atomic-transneongreen-zoom.png","opacity":0.95},{"id":"hb-black","color":"#252724","name":"HatchBox Black","tier":"Standard","src":"hatchbox-black.jpg","zoom":"hatchbox-black-zoom.png","opacity":1},{"id":"hb-blue","color":"#011CAE","name":"HatchBox Blue","tier":"Standard","src":"hatchbox-blue.jpg","zoom":"hatchbox-blue-zoom.png","opacity":1},{"id":"hb-gold","color":"#E8A932","name":"HatchBox Gold","tier":"Standard","src":"hatchbox-gold.jpg","zoom":"hatchbox-gold-zoom.png","opacity":1},{"id":"hb-green","color":"#0FC069","name":"HatchBox Green","tier":"Standard","src":"hatchbox-green.jpg","zoom":"hatchbox-green-zoom.png","opacity":1},{"id":"hb-orange","color":"#FF7320","name":"HatchBox Orange","tier":"Standard","src":"hatchbox-orange.jpg","zoom":"hatchbox-orange-zoom.png","opacity":1},{"id":"hb-pink","color":"#FF7478","name":"HatchBox Pink","tier":"Standard","src":"hatchbox-pink.jpg","zoom":"hatchbox-pink-zoom.png","opacity":1},{"id":"hb-red","color":"#EF1021","name":"HatchBox Red","tier":"Standard","src":"hatchbox-red.jpg","zoom":"hatchbox-red-zoom.png","opacity":1},{"id":"hb-silver","color":"#B5B7B1","name":"HatchBox Silver","tier":"Standard","src":"hatchbox-silver.jpg","zoom":"hatchbox-silver-zoom.png","opacity":1},{"id":"hb-white","color":"#E6E5DE","name":"HatchBox White","tier":"Standard","src":"hatchbox-white.jpg","zoom":"hatchbox-white-zoom.png","opacity":1},{"id":"hb-yellow","color":"#FDE506","name":"HatchBox Yellow","tier":"Standard","src":"hatchbox-yellow.jpg","zoom":"hatchbox-yellow-zoom.png","opacity":1},{"id":"php-oceanblue","color":"#3BADD3","name":"Push Ocean Blue","tier":"Standard","src":"push-oceanblue.jpg","zoom":"push-oceanblue-zoom.png","opacity":1},{"id":"pru-azureblue","color":"#008CD6","name":"Prusa Azure Blue","tier":"Premium","src":"prusa-azureblue.jpg","zoom":"prusa-azureblue-zoom.png","opacity":1},{"id":"pru-galaxyblack","color":"#4F4C46","name":"Prusa Galaxy Black","tier":"Premium","src":"prusa-galaxyblack.jpg","zoom":"prusa-galaxyblack-zoom.png","opacity":1},{"id":"pru-galaxysilver","color":"#B8B8B5","name":"Prusa Galaxy Silver","tier":"Premium","src":"prusa-galaxysilver.jpg","zoom":"prusa-galaxysilver-zoom.png","opacity":1},{"id":"pru-galaxypurple","color":"#412B7C","name":"Prusa Galaxy Purple","tier":"Premium","src":"prusa-galaxypurple.jpg","zoom":"prusa-galaxyspurple-zoom.png","opacity":1},{"id":"pru-gentlemengrey","color":"#2D4C4D","name":"Prusa Gentlemen Grey","tier":"Premium","src":"prusa-gentlemensgrey.jpg","zoom":"prusa-gentlemansgrey-zoom.png","opacity":1},{"id":"pru-opalgreen","color":"#085C4E","name":"Prusa Opal Green","tier":"Premium","src":"prusa-opalgreen.jpg","zoom":"prusa-opalgreen-zoom.png","opacity":1},{"id":"ptp-protonpurple","color":"#964861","name":"ProtoPasta Proton Purple","tier":"Ultra Premium","src":"protopasta-protonpurple.jpg","zoom":"protopasta-protonpurple-zoom.png","opacity":1},{"id":"pru-mspink","color":"#D54F7E","name":"Prusa Ms Pink","tier":"Premium","src":"prusa-mspink.jpg","zoom":"prusa-mspink-zoom.png","opacity":1}]}')},44:function(e,t,n){e.exports=n.p+"static/media/delete.3df96e6b.png"}},[[101,1,2]]]);
//# sourceMappingURL=main.39aa12df.chunk.js.map